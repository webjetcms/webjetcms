CKEDITOR.dialog.add("wjbuttonDialog",function(c){return{title:c.lang.webjetcomponents.wjbutton.title,minWidth:450,minHeight:200,contents:[{id:"tab-basic",elements:[{type:"text",id:"button-text",label:c.lang.webjetcomponents.wjbutton.text,validate:CKEDITOR.dialog.validate.notEmpty("Text field cannot be empty."),setup:function(a){this.setValue(a.getHtml())},commit:function(a){a.setHtml(this.getValue())}},{type:"hbox",padding:0,widths:["95%","5%"],children:[{type:"text",id:"url",label:c.lang.webjetcomponents.wjbutton.url,
setup:function(a){this.setValue(a.getAttribute("href"))},commit:function(a){var b=this.getValue();a.setAttribute("href",b);a.removeAttribute("data-cke-saved-href");0==b.indexOf("http")||0==b.indexOf("www.")?a.setAttribute("rel","nofollow noopener noreferrer"):"nofollow noopener noreferrer"==a.getAttribute("rel")&&a.removeAttribute("rel")}},{type:"html",html:'\x26nbsp;\x3cbr/\x3e\x3ci style\x3d"margin-top:15px; margin-left: 8px;display: block; font-size: 18px; cursor: pointer;" onclick\x3d"openLinkDialogWindow(\'ckEditorDialog\', \'tab-basic:url\');" class\x3d"wj-action-icon ti ti-focus-2"\x3e\x3c/i\x3e'}]},
{type:"select",id:"target",label:c.lang.webjetcomponents.wjbutton.target,style:"width:100%","default":"",setup:function(a){var b=a.getAttribute("target");if(void 0==b||null==b||""==b)if(a=a.getAttribute("href"),0==a.indexOf("http")||0==a.indexOf("www.")||0==a.indexOf("/files/"))b="_blank";this.setValue(b)},commit:function(a){var b=this.getValue();""==b?(b=this.getDialog().getContentElement("tab-basic","url").getValue(),0==b.indexOf("http")||0==b.indexOf("www.")||0==b.indexOf("/files/")?a.setAttribute("target",
"_blank"):a.removeAttribute("target")):a.setAttribute("target",b)},items:[[""],["_self"],["_blank"]]},{type:"hbox",padding:0,widths:["48%","4%","48%"],children:[{type:"text",id:"font-size",label:c.lang.webjetcomponents.wjbutton.fontSize,setup:function(a){var b="";""!=a.getStyle("font-size").split("px")[0]&&(b="px");this.setValue(a.getStyle("font-size").split("px")[0]+b)},commit:function(a){if(""!=this.getValue()){var b="";0>this.getValue().indexOf("px")&&(b="px");a.setStyle("font-size",this.getValue().replace(/\ /g,
"")+b)}else a.removeStyle("font-size")}},{type:"html",html:"\x26nbsp;"},{type:"text",id:"border-radius",label:c.lang.webjetcomponents.wjbutton.borderRadius,setup:function(a){var b="";""!=a.getStyle("border-radius").split("px")[0]&&(b="px");this.setValue(a.getStyle("border-radius").split("px")[0]+b)},commit:function(a){if(""!=this.getValue()){var b="";0>this.getValue().indexOf("px")&&(b="px");a.setStyle("border-radius",this.getValue().replace(/\ /g,"")+b)}else a.removeStyle("border-radius")}}]},{type:"hbox",
padding:0,widths:["48%","4%","48%"],children:[{type:"hbox",padding:0,widths:["70%","30%"],children:[{type:"text",id:"bgColor",label:c.lang.webjetcomponents.wjbutton.bgColor,"default":"",setup:function(a){this.setValue(a.getStyle("background-color"))},commit:function(a){this.getValue()?a.setStyle("background-color",this.getValue()):a.removeStyle("background-color")}},{type:"button",id:"bgColorChoose","class":"colorChooser",label:c.lang.webjetcomponents.wjbutton.choose,onLoad:function(){this.getElement().getParent().setStyle("vertical-align",
"bottom")},onClick:function(){c.getColorFromDialog(function(a){a&&this.getDialog().getContentElement("tab-basic","bgColor").setValue(a);this.focus()},this)}}]},{type:"html",html:"\x26nbsp;"},{type:"hbox",padding:0,widths:["70%","30%"],children:[{type:"text",id:"fgColor",label:c.lang.webjetcomponents.wjbutton.textColor,"default":"",setup:function(a){this.setValue(a.getStyle("color"))},commit:function(a){this.getValue()?a.setStyle("color",this.getValue()):a.removeStyle("color")}},{type:"button",id:"fgColorChoose",
"class":"colorChooser",label:c.lang.webjetcomponents.wjbutton.choose,onLoad:function(){this.getElement().getParent().setStyle("vertical-align","bottom")},onClick:function(){c.getColorFromDialog(function(a){a&&this.getDialog().getContentElement("tab-basic","fgColor").setValue(a);this.focus()},this)}}]}]}]}],onShow:function(){var a=c.getSelection().getStartElement();"undefined"!=typeof ckEditorInstance.lastWjButton&&null!=ckEditorInstance.lastWjButton&&(a=new CKEDITOR.dom.element(ckEditorInstance.lastWjButton),
ckEditorInstance.lastWjButton=null);a?this.insertMode=!1:(a=c.document.createElement("a"),a.setAttribute("class","wj-button"),a.setAttribute("style","display:inline-block;background-color:#27AE61;border:1px solid #27AE61;color:#fff !important;padding:5px 10px;border-radius:5px;font-size:14px;text-decoration: none !important; cursor: pointer;"),a.setText("Text"),this.insertMode=!0);this.element=a;this.setupContent(this.element)},onOk:function(){var a=this.element;this.commitContent(a);this.insertMode&&
c.insertElement(a)}}});