CKEDITOR.plugins.add("webjetsvgicon",{requires:"dialog",icons:"svgicon",lang:"sk,en,cs",init:function(a){a.addCommand("webjetsvgicon",new CKEDITOR.dialogCommand("svgiconDialog"));a.ui.addButton("WebjetSvgIcon",{label:a.lang.webjetsvgicon.buttonLabel,command:"webjetsvgicon",toolbar:"insert",icon:this.path+"icons/svgicon.svg"});CKEDITOR.dialog.add("svgiconDialog",this.path+"dialogs/svgicon.js");a.filter.allow({svg:{attributes:"!*",children:!0},use:{attributes:"!*"}});a.on("contentDom",function(){var c=
a.editable();c.attachListener(c,"mouseup",function(d){try{var b=d.data.$.target;if("SVG"==b.tagName.toUpperCase()||"USE"==b.tagName.toUpperCase()&&"SVG"==b.parentNode.tagName.toUpperCase()){var c="SVG"==b.tagName.toUpperCase()?b:b.parentNode;if(!1!==c.classList.contains("icon")){var e=a.document.find(".svg-icon-selected");for(d=0;d<e.count();d++)e.getItem(d).removeClass("svg-icon-selected");c.classList.add("svg-icon-selected");a.execCommand("webjetsvgicon")}}}catch(f){console.error("Error in webjetsvgicon mouseup handler",
f)}})})}});