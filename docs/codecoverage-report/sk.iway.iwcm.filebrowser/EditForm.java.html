<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="sk"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EditForm.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">webjetcms</a> &gt; <a href="index.source.html" class="el_package">sk.iway.iwcm.filebrowser</a> &gt; <span class="el_source">EditForm.java</span></div><h1>EditForm.java</h1><pre class="source lang-java linenums">package sk.iway.iwcm.filebrowser;

import java.util.StringTokenizer;

import sk.iway.iwcm.users.UserDetails;
import sk.iway.upload.UploadedFile;


/**
 *  Formular pre editaciu suboru
 *
 *@Title        WebJET
 *@Company      Interway s.r.o. (www.interway.sk)
 *@Copyright    Interway s.r.o. (c) 2001-2002
 *@author       $Author: jeeff $
 *@version      $Revision: 1.3 $
 *@created      Streda, 2003, december 24
 *@modified     $Date: 2004/01/25 13:31:18 $
 */
<span class="fc" id="L20">public class EditForm</span>
{
	private String dir;
	private String file;
	private String origFile;
	private String data;
	private UploadedFile uploadFile;
	private String origDir;
	private int[] passwordProtected;
	private boolean indexFulltext;
<span class="fc" id="L30">	private int logonDocId = -1;</span>
	private String[] selectedFilesToDelete;

	public boolean isAccessibleFor(UserDetails user)
	{
		//ak nie je nic nastavene, je pristupne
<span class="pc bpc" id="L36" title="2 of 4 branches missed.">		if (passwordProtected==null || passwordProtected.length&lt;1) return true;</span>
		//ak je user null a je nieco nastavene nie je pristupne
<span class="fc bfc" id="L38" title="All 2 branches covered.">		if (user == null) return false;</span>

<span class="fc" id="L40">		boolean isAccesible = false;</span>
		int i;
<span class="fc" id="L42">		int size = passwordProtected.length;</span>

<span class="pc bpc" id="L44" title="1 of 2 branches missed.">		for (i=0; i&lt;size; i++)</span>
		{
<span class="pc bpc" id="L46" title="1 of 2 branches missed.">			if (user.isInUserGroup(passwordProtected[i]))</span>
			{
<span class="fc" id="L48">				isAccesible = true;</span>
<span class="fc" id="L49">				break;</span>
			}
		}
<span class="fc" id="L52">		return isAccesible;</span>
	}

	public String[] getSelectedFilesToDelete()
	{
<span class="nc" id="L57">		return selectedFilesToDelete;</span>
	}

	public void setSelectedFilesToDelete(String[] selectedFilesToDelete)
	{
<span class="nc" id="L62">		this.selectedFilesToDelete = selectedFilesToDelete;</span>
<span class="nc" id="L63">	}</span>

	/**
	 *  Gets the dir attribute of the EditForm object
	 *
	 *@return    The dir value
	 */
	public String getDir()
	{
<span class="nc" id="L72">		return dir;</span>
	}

	/**
	 *  Sets the dir attribute of the EditForm object
	 *
	 *@param  dir  The new dir value
	 */
	public void setDir(String dir)
	{
<span class="nc" id="L82">		this.dir = dir;</span>
<span class="nc" id="L83">	}</span>

	/**
	 *  Sets the file attribute of the EditForm object
	 *
	 *@param  file  The new file value
	 */
	public void setFile(String file)
	{
<span class="nc" id="L92">		this.file = file;</span>
<span class="nc" id="L93">	}</span>

	/**
	 *  Gets the file attribute of the EditForm object
	 *
	 *@return    The file value
	 */
	public String getFile()
	{
<span class="nc" id="L102">		return file;</span>
	}

	/**
	 *  Sets the file attribute of the EditForm object
	 *
	 *@param  file  The new file value
	 */
	public void setOrigFile(String file)
	{
<span class="nc" id="L112">		this.origFile = file;</span>
<span class="nc" id="L113">	}</span>

	/**
	 *  Gets the file attribute of the EditForm object
	 *
	 *@return    The file value
	 */
	public String getOrigFile()
	{
<span class="nc" id="L122">		return origFile;</span>
	}

	/**
	 *  Sets the data attribute of the EditForm object
	 *
	 *@param  data  The new data value
	 */
	public void setData(String data)
	{
<span class="nc" id="L132">		this.data = data;</span>
<span class="nc" id="L133">	}</span>

	/**
	 *  Gets the data attribute of the EditForm object
	 *
	 *@return    The data value
	 */
	public String getData()
	{
<span class="nc" id="L142">		return data;</span>
	}

	/**
	 *  Sets the fileUpload attribute of the EditForm object
	 *
	 *
	 */
	public void setUploadFile(UploadedFile uploadFile)
	{
<span class="nc" id="L152">		this.uploadFile = uploadFile;</span>
<span class="nc" id="L153">	}</span>

	/**
	 *  Gets the fileUpload attribute of the EditForm object
	 *
	 *@return    The fileUpload value
	 */
	public UploadedFile getUploadFile()
	{
<span class="nc" id="L162">		return uploadFile;</span>
	}
	public String getOrigDir()
	{
<span class="fc" id="L166">		return origDir;</span>
	}
	public void setOrigDir(String origDir)
	{
<span class="fc" id="L170">		this.origDir = origDir;</span>
<span class="fc" id="L171">	}</span>

	/**
	 *  Sets the passwordProtected attribute of the EditorForm object
	 *
	 *@param  passwordProtected  The new passwordProtected value
	 */
	public void setPasswordProtected(int[] passwordProtected)
	{
<span class="nc" id="L180">		this.passwordProtected = passwordProtected;</span>
<span class="nc" id="L181">	}</span>

	/**
	 *  Sets the passwordProtectedString attribute of the EditorForm object
	 *
	 *@param  passwordProtectedString  The new passwordProtectedString value
	 */
	public void setPasswordProtectedString(String passwordProtectedString)
	{
<span class="pc bpc" id="L190" title="2 of 4 branches missed.">		if (passwordProtectedString == null || passwordProtectedString.length() &lt; 1)</span>
		{
<span class="nc" id="L192">			passwordProtected = new int[0];</span>
<span class="nc" id="L193">			return;</span>
		}
		//najskor zisti pocet
		try
		{
<span class="fc" id="L198">			StringTokenizer st = new StringTokenizer(passwordProtectedString, &quot;,&quot;);</span>
<span class="fc" id="L199">			int len = st.countTokens();</span>
<span class="fc" id="L200">			passwordProtected = new int[len];</span>
<span class="fc" id="L201">			int i = 0;</span>
<span class="fc bfc" id="L202" title="All 2 branches covered.">			while (st.hasMoreTokens())</span>
			{
<span class="fc" id="L204">				passwordProtected[i] = Integer.parseInt(st.nextToken());</span>
<span class="fc" id="L205">				i++;</span>
			}
		}
<span class="nc" id="L208">		catch (Exception ex)</span>
		{
<span class="nc" id="L210">			sk.iway.iwcm.Logger.error(ex);</span>
<span class="fc" id="L211">		}</span>
<span class="fc" id="L212">	}</span>

	/**
	 *  Gets the passwordProtected attribute of the EditorForm object
	 *
	 *@return    The passwordProtected value
	 */
	public int[] getPasswordProtected()
	{
<span class="nc" id="L221">		return passwordProtected;</span>
	}

	/**
	 *  Gets the passwordProtectedString attribute of the EditorForm object
	 *
	 *@return    The passwordProtectedString value
	 */
	public String getPasswordProtectedString()
	{
<span class="nc bnc" id="L231" title="All 2 branches missed.">		if (passwordProtected == null)</span>
		{
<span class="nc" id="L233">			return(null);</span>
		}
<span class="nc" id="L235">		int size = passwordProtected.length;</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">		if (size == 0)</span>
		{
<span class="nc" id="L238">			return (null);</span>
		}
<span class="nc" id="L240">		String out = null;</span>
		int i;
<span class="nc bnc" id="L242" title="All 2 branches missed.">		for (i = 0; i &lt; size; i++)</span>
		{
<span class="nc bnc" id="L244" title="All 2 branches missed.">			if (out == null)</span>
			{
<span class="nc" id="L246">				out = Integer.toString(passwordProtected[i]);</span>
			}
			else
			{
<span class="nc" id="L250">				out = out + &quot;,&quot; + passwordProtected[i];</span>
			}
		}
<span class="nc" id="L253">		return (out);</span>
	}
	public boolean isIndexFulltext()
	{
<span class="nc" id="L257">		return indexFulltext;</span>
	}
	public void setIndexFulltext(boolean indexFulltext)
	{
<span class="fc" id="L261">		this.indexFulltext = indexFulltext;</span>
<span class="fc" id="L262">	}</span>
	public int getLogonDocId()
	{
<span class="fc" id="L265">		return logonDocId;</span>
	}
	public void setLogonDocId(int logonDocId)
	{
<span class="fc" id="L269">		this.logonDocId = logonDocId;</span>
<span class="fc" id="L270">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>