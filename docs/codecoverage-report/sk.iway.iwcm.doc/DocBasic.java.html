<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="sk"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DocBasic.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">webjetcms</a> &gt; <a href="index.source.html" class="el_package">sk.iway.iwcm.doc</a> &gt; <span class="el_source">DocBasic.java</span></div><h1>DocBasic.java</h1><pre class="source lang-java linenums">package sk.iway.iwcm.doc;

import static sk.iway.iwcm.Tools.isEmpty;

import java.io.Serializable;
import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.Comparator;
import java.util.Date;
import java.util.List;
import java.util.StringTokenizer;

import javax.persistence.Column;
import javax.persistence.Convert;
import javax.persistence.MappedSuperclass;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.persistence.Transient;
import javax.servlet.http.HttpServletRequest;
import javax.validation.constraints.NotBlank;
import javax.validation.constraints.Size;

import com.fasterxml.jackson.annotation.JsonIgnore;

import org.apache.commons.beanutils.BeanUtils;

import sk.iway.iwcm.*;
import sk.iway.iwcm.common.BasketDBTools;
import sk.iway.iwcm.common.GalleryToolsForCore;
import sk.iway.iwcm.gallery.GalleryDB;
import sk.iway.iwcm.system.datatable.DataTableColumnType;
import sk.iway.iwcm.system.datatable.annotations.DataTableColumn;
import sk.iway.iwcm.system.datatable.annotations.DataTableColumnEditor;
import sk.iway.iwcm.system.datatable.annotations.DataTableColumnEditorAttr;
import sk.iway.iwcm.system.datatable.annotations.DataTableColumnNested;
import sk.iway.iwcm.system.jpa.AllowHtmlAttributeConverter;
import sk.iway.iwcm.system.jpa.CommaSeparatedIntegersConverter;
import sk.iway.iwcm.users.UserDetails;
import sk.iway.iwcm.users.UsersDB;

/**
 *  Informacie o dokumente z databazy, tabulka documents
 *
 *@Title        Interway Content Management
 *@Company      Interway s.r.o. (www.interway.sk)
 *@Copyright    Interway s.r.o. (c) 2001-2002
 *@author       $Author: jeeff $
 *@version      $Revision: 1.16 $
 *@created      $Date: 2004/02/16 16:44:23 $
 *@modified     $Date: 2004/02/16 16:44:23 $
 */

@MappedSuperclass
public class DocBasic implements DocGroupInterface, Serializable
{
<span class="fc" id="L56">	private static final BigDecimal VALUE_OF_MINUS_1 = new BigDecimal(-1);</span>
<span class="fc" id="L57">	private static final BigDecimal VALUE_OF_0 = new BigDecimal(0);</span>
<span class="fc" id="L58">	private static final BigDecimal VALUE_OF_1 = new BigDecimal(1);</span>
<span class="fc" id="L59">	private static final BigDecimal VALUE_OF_100 = new BigDecimal(100);</span>

<span class="fc" id="L61">	@Column(name = &quot;group_id&quot;)</span>
	private int groupId = 0;

	@Column(name = &quot;title&quot;)
	@Size(max = 255)
	@DataTableColumn(
			inputType = DataTableColumnType.OPEN_EDITOR,
			title = &quot;editor.title&quot;,
			tab = &quot;basic&quot;,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-validation&quot;, value = &quot;true&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-escape-slash&quot;, value = &quot;true&quot;)
					})
			}
	)
	@NotBlank
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String title;

	@Column(name = &quot;navbar&quot;)
	@DataTableColumn(
			inputType = DataTableColumnType.TEXT,
			title = &quot;webpages.editor.titleForMenu&quot;,
			tab = &quot;basic&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-validation&quot;, value = &quot;true&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-escape-slash&quot;, value = &quot;true&quot;)
					})
			}
	)
	@NotBlank
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String navbar;

<span class="fc" id="L99">	@Column(name = &quot;virtual_path&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.TEXT,
			title = &quot;editor.virtual_path&quot;,
			tab = &quot;basic&quot;,
			visible = false,
			className = &quot;DTE_Field_Has_Checkbox&quot;
	)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String virtualPath = &quot;&quot;;

	@Column(name = &quot;editor_virtual_path &quot;)
	@Size(max = 255)
	@DataTableColumn(
			inputType = DataTableColumnType.TEXT,
			title = &quot;editor.virtual_path&quot;,
			tab = &quot;basic&quot;,
			hidden = true,
			visible = false,
			className = &quot;DTE_Field_Has_Checkbox&quot;
	)
	private String editorVirtualPath;

<span class="fc" id="L122">	@Column(name = &quot;generate_url_from_title&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.BOOLEAN,
			title = &quot;editor.generate_url_from_title&quot;,
			tab = &quot;basic&quot;,
			hidden = true,
			className = &quot;DTE_Field_Has_Checkbox&quot;
	)
	private boolean generateUrlFromTitle = true;

<span class="fc" id="L132">	@Column(name = &quot;url_inherit_group&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.BOOLEAN,
			title = &quot;editor.url_inherit_group&quot;,
			tab = &quot;basic&quot;,
			hidden = true,
			className = &quot;DTE_Field_No_Margin_Top&quot;
	)
	private boolean urlInheritGroup = false;

<span class="fc" id="L142">	@Column(name = &quot;sort_priority&quot;)</span>
	@DataTableColumn(
		inputType = DataTableColumnType.NUMBER,
		title = &quot;editor.sort_order&quot;,
		tab = &quot;menu&quot;,
		visible = false,
		editor = {
			@DataTableColumnEditor(
				message = &quot;editor.sort_order_help&quot;,
				attr = {
					@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;)
				}
			)
		}
	)
	private int sortPriority = 0;

<span class="fc" id="L159">	@Column(name = &quot;external_link&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.ELFINDER,
			title = &quot;editor.external_link&quot;,
			tab = &quot;basic&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(
						label = &quot;editor.external_link.label&quot;,
						message = &quot;editor.external_link_help&quot;,
						attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-headline&quot;, value = &quot;editor.external_link&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;)
						}
					)
			}
	)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String externalLink = &quot;&quot;;

<span class="fc" id="L179">	@Column(name = &quot;available&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.BOOLEAN, title=&quot;editor.available_enabled&quot;, tab=&quot;basic&quot;,
		visible = false,
		editor = {
			@DataTableColumnEditor(
				options = {
					@DataTableColumnEditorAttr(key = &quot;editor.available_enabled_label&quot;, value = &quot;true&quot;)
				},
				attr = {
					@DataTableColumnEditorAttr(key = &quot;data-dt-field-headline&quot;, value = &quot;editor.properties&quot;)
				}
			)
		}
	)
	private boolean available = false;

<span class="fc" id="L195">	@Column(name = &quot;searchable&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.BOOLEAN, title=&quot;editor.searchable_enabled&quot;, tab=&quot;basic&quot;,
		visible = false,
		editor = {
			@DataTableColumnEditor(
				options = {
					@DataTableColumnEditorAttr(key = &quot;editor.searchable_enabled_label&quot;, value = &quot;true&quot;)
				}
			)
		}
	)
	private boolean searchable = false;

<span class="fc" id="L208">	@Column(name = &quot;cacheable&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.BOOLEAN, title=&quot;editor.cache&quot;, tab=&quot;basic&quot;,
		visible = false,
		editor = {
			@DataTableColumnEditor(
				options = {
					@DataTableColumnEditorAttr(key = &quot;editor.cache_label&quot;, value = &quot;true&quot;)
				},
				attr = {
					@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;)
				}
			)
		}
	)
	private boolean cacheable = false;

	@Column(name = &quot;temp_id&quot;)
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;editor.template&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/templates/temps-list/?tempId={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int tempId;

<span class="fc" id="L240">	@Column(name = &quot;header_doc_id&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;editor.header&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuWebpages&quot;)
					})
			}
	)
	private int headerDocId = -1;

<span class="fc" id="L255">	@Column(name = &quot;footer_doc_id&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;editor.footer&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int footerDocId = -1;

<span class="fc" id="L271">	@Column(name = &quot;menu_doc_id&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;editor.menu&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int menuDocId = -1;

<span class="fc" id="L286">	@Column(name = &quot;right_menu_doc_id&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;editor.right_menu&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int rightMenuDocId = -1;

	@DataTableColumn(
        inputType = DataTableColumnType.CHECKBOX,
        title = &quot;editor.perex.group&quot;,
        tab = &quot;perex&quot;,
		visible = false,
        sortAfter = &quot;perexImage&quot;,
		orderable = false,
        editor = {
            @DataTableColumnEditor(
                attr = {
                    @DataTableColumnEditorAttr(key = &quot;unselectedValue&quot;, value = &quot;&quot;)
                }
            )
        }
    )
	@Column(name = &quot;perex_group&quot;)
	@Convert(converter = CommaSeparatedIntegersConverter.class)
	private Integer[] perexGroups;

<span class="fc" id="L321">	@Column(name = &quot;date_created&quot;)</span>
	@Temporal(TemporalType.TIMESTAMP)
	@DataTableColumn(inputType = DataTableColumnType.DATETIME, title=&quot;webstranky.nadpis.posledna_zmena&quot;,
		visible = true, hiddenEditor = true, sortAfter = &quot;authorName&quot;
	)
	private Date dateCreated = null;

<span class="fc" id="L328">	@Column(name = &quot;password_protected&quot;)</span>
	private String passwordProtected = &quot;&quot;;

	//ak je nastavene na true tak po skonceni publikacie sa dokument zneplatni
<span class="fc" id="L332">	@Column(name = &quot;disable_after_end&quot;)</span>
	private boolean disableAfterEnd = false;

	//ak je nastavene na true tak bude publikovane v buducnosti (kopiruje atribut publicable ale po publikovani nezmeni stav)
<span class="fc" id="L336">	@Column(name = &quot;publish_after_start&quot;)</span>
	private boolean publishAfterStart = false;

<span class="fc" id="L339">	@Transient</span>
	private boolean lazyLoaded = false;

<span class="fc" id="L342">	@Column(name = &quot;require_ssl&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.HIDDEN, title=&quot;editor.requireSsl&quot;, tab=&quot;access&quot;,
		visible = false, sortAfter = &quot;cacheable&quot;
	)
	private boolean requireSsl = false;

	//Old FieldsFromAtoE aka firstFields
<span class="fc" id="L349">	@Column(name = &quot;field_a&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_a&quot;,
	tab = &quot;fields&quot;, visible = false, sortAfter = &quot;perexGroups&quot;)
	private String fieldA = &quot;&quot;;

<span class="fc" id="L354">	@Column(name = &quot;field_b&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_b&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldA&quot;)
	private String fieldB = &quot;&quot;;

<span class="fc" id="L359">	@Column(name = &quot;field_c&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_c&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldB&quot;)
	private String fieldC = &quot;&quot;;

<span class="fc" id="L364">	@Column(name = &quot;field_d&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_d&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldC&quot;)
	private String fieldD = &quot;&quot;;

<span class="fc" id="L369">	@Column(name = &quot;field_e&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_e&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldD&quot;)
	private String fieldE = &quot;&quot;;

	//Old FieldsFromFtoT aka fields
<span class="fc" id="L375">	@Column(name = &quot;field_f&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_f&quot;,
	tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldE&quot;)
	private String fieldF = &quot;&quot;;

<span class="fc" id="L380">	@Column(name = &quot;field_g&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_g&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldF&quot;)
	private String fieldG = &quot;&quot;;

<span class="fc" id="L385">	@Column(name = &quot;field_h&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_h&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldG&quot;)
	private String fieldH = &quot;&quot;;

<span class="fc" id="L390">	@Column(name = &quot;field_i&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_i&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldH&quot;)
	private String fieldI = &quot;&quot;;

<span class="fc" id="L395">	@Column(name = &quot;field_j&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_j&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldI&quot;)
	private String fieldJ = &quot;&quot;;

<span class="fc" id="L400">	@Column(name = &quot;field_k&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_k&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldJ&quot;)
	private String fieldK = &quot;&quot;;

<span class="fc" id="L405">	@Column(name = &quot;field_l&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_l&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldK&quot;)
	private String fieldL = &quot;&quot;;

<span class="fc" id="L410">	@Column(name = &quot;field_m&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_m&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldL&quot;)
	private String fieldM = &quot;&quot;;

<span class="fc" id="L415">	@Column(name = &quot;field_n&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_n&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldM&quot;)
	private String fieldN = &quot;&quot;;

<span class="fc" id="L420">	@Column(name = &quot;field_o&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_o&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldN&quot;)
	private String fieldO = &quot;&quot;;

<span class="fc" id="L425">	@Column(name = &quot;field_p&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_p&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldO&quot;)
	private String fieldP = &quot;&quot;;

<span class="fc" id="L430">	@Column(name = &quot;field_q&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_q&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldP&quot;)
	private String fieldQ = &quot;&quot;;

<span class="fc" id="L435">	@Column(name = &quot;field_r&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_r&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldQ&quot;)
	private String fieldR = &quot;&quot;;

<span class="fc" id="L440">	@Column(name = &quot;field_s&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_s&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldR&quot;)
	private String fieldS = &quot;&quot;;

<span class="fc" id="L445">	@Column(name = &quot;field_t&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.field_t&quot;,
		tab = &quot;fields&quot;, visible = false, sortAfter = &quot;fieldS&quot;)
	private String fieldT = &quot;&quot;;

	//Doplnene volne polia - ticket 54205 - prva cast
<span class="fc" id="L451">	@Column(name = &quot;temp_field_a_docid&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;temp_edit.object_a&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int tempFieldADocId = -1;

<span class="fc" id="L466">	@Column(name = &quot;temp_field_b_docid&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;temp_edit.object_b&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int tempFieldBDocId = -1;

<span class="fc" id="L481">	@Column(name = &quot;temp_field_c_docid&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;temp_edit.object_c&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int tempFieldCDocId = -1;

<span class="fc" id="L496">	@Column(name = &quot;temp_field_d_docid&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;temp_edit.object_d&quot;,
			tab = &quot;template&quot;,
			visible = false,
			editor = {
					@DataTableColumnEditor(attr = {
							@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-url&quot;, value = &quot;/admin/v9/webpages/web-pages-list/?groupid=SYSTEM&amp;docid={id}&quot;),
							@DataTableColumnEditorAttr(key = &quot;data-dt-edit-perms&quot;, value = &quot;menuTemplates&quot;)
					})
			}
	)
	private int tempFieldDDocId = -1;

<span class="fc" id="L512">	@Column(name = &quot;show_in_menu&quot;)</span>
	@DataTableColumn(
			inputType = DataTableColumnType.SELECT,
			title = &quot;editor.menu_type_menu&quot;,
			tab = &quot;menu&quot;,
			visible = false,
			editor = {
				@DataTableColumnEditor(
					attr = {
						@DataTableColumnEditorAttr(key = &quot;data-dt-field-headline&quot;, value = &quot;editor.menu_type_notlogged&quot;)
					},
					options = {
						@DataTableColumnEditorAttr(key = &quot;editor.menu_show&quot;, value = &quot;true&quot;),
						@DataTableColumnEditorAttr(key = &quot;editor.menu_hide&quot;, value = &quot;false&quot;)
					},
					message=&quot;editor.menu_type_menu.tooltip-webpage&quot;
				)
			}
	)
	private boolean showInMenu = false;

	//Doplnene volne polia - ticket 54205 - druha cast
	@Column(name = &quot;show_in_navbar&quot;)
    @DataTableColumn(
            inputType = DataTableColumnType.SELECT,
            title = &quot;editor.menu_type_navbar&quot;,
            tab = &quot;menu&quot;,
            visible = false,
            editor = {
                @DataTableColumnEditor(
                    options = {
						@DataTableColumnEditorAttr(key = &quot;editor.navbar.same_as_menu&quot;, value = &quot;null&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_show&quot;, value = &quot;true&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_hide&quot;, value = &quot;false&quot;)
                    }
                )
            }
    )
    private Boolean showInNavbar;

	@Column(name = &quot;show_in_sitemap&quot;)
    @DataTableColumn(
            inputType = DataTableColumnType.SELECT,
            title = &quot;editor.menu_type_site_map&quot;,
            tab = &quot;menu&quot;,
            visible = false,
            editor = {
                @DataTableColumnEditor(
                    options = {
                        @DataTableColumnEditorAttr(key = &quot;editor.navbar.same_as_menu&quot;, value = &quot;null&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_show&quot;, value = &quot;true&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_hide&quot;, value = &quot;false&quot;)
                    },
					message = &quot;editor.menu_type_site_map.tooltip-webpage&quot;
                )
            }
    )
    private Boolean showInSitemap;

	@Column(name = &quot;logged_show_in_menu&quot;)
    @DataTableColumn(
            inputType = DataTableColumnType.SELECT,
            title = &quot;editor.menu_type_menu&quot;,
            tab = &quot;menu&quot;,
            visible = false,
            editor = {
                @DataTableColumnEditor(
                    attr = {
                        @DataTableColumnEditorAttr(key = &quot;data-dt-field-headline&quot;, value = &quot;editor.menu_type_logged&quot;)
                    },
                    options = {
						@DataTableColumnEditorAttr(key = &quot;groupedit.menu_type_same_as_normal&quot;, value = &quot;null&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_show&quot;, value = &quot;true&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_hide&quot;, value = &quot;false&quot;)
                    },
					message=&quot;editor.menu_type_menu.tooltip-webpage&quot;
                )
            }
    )
    private Boolean loggedShowInMenu;

	@Column(name = &quot;logged_show_in_navbar&quot;)
    @DataTableColumn(
            inputType = DataTableColumnType.SELECT,
            title = &quot;editor.menu_type_navbar&quot;,
            tab = &quot;menu&quot;,
            visible = false,
            editor = {
                @DataTableColumnEditor(
                    options = {
                        @DataTableColumnEditorAttr(key = &quot;groupedit.menu_type_same_as_normal&quot;, value = &quot;null&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_show&quot;, value = &quot;true&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_hide&quot;, value = &quot;false&quot;)
                    }
                )
            }
    )
    private Boolean loggedShowInNavbar;

	@Column(name = &quot;logged_show_in_sitemap &quot;)
    @DataTableColumn(
            inputType = DataTableColumnType.SELECT,
            title = &quot;editor.menu_type_site_map&quot;,
            tab = &quot;menu&quot;,
            visible = false,
            editor = {
                @DataTableColumnEditor(
                    options = {
                        @DataTableColumnEditorAttr(key = &quot;groupedit.menu_type_same_as_normal&quot;, value = &quot;null&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_show&quot;, value = &quot;true&quot;),
                        @DataTableColumnEditorAttr(key = &quot;editor.menu_hide&quot;, value = &quot;false&quot;)
                    },
					message = &quot;editor.menu_type_site_map.tooltip-webpage&quot;
                )
            }
    )
    private Boolean loggedShowInSitemap;


	//Old DocumentAdvancedFields aka advancedFields
<span class="fc" id="L632">	@Column(name = &quot;html_head&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXTAREA, title=&quot;editor.tab.html_header&quot;,
	tab = &quot;template&quot;, visible = false, sortAfter = &quot;tempFieldDDocId&quot;
	)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String htmlHead = &quot;&quot;;

	@Column(name = &quot;publish_start&quot;)
	@Temporal(TemporalType.TIMESTAMP)
	@DataTableColumn(inputType = DataTableColumnType.DATETIME, title=&quot;editor.dateStart&quot;,
		tab = &quot;perex&quot;, visible = false, sortAfter = &quot;editorFields.emails&quot;, className = &quot;DTE_Field_Has_Checkbox&quot;
	)
	private Date publishStartDate;

	@Column(name = &quot;publish_end&quot;)
	@Temporal(TemporalType.TIMESTAMP)
	@DataTableColumn(inputType = DataTableColumnType.DATETIME, title=&quot;editor.dateEnd&quot;,
		tab = &quot;perex&quot;, visible = false, sortAfter = &quot;editorFields.publishAfterStart&quot;, className = &quot;DTE_Field_Has_Checkbox&quot;
	)
	private Date publishEndDate;

	@Column(name = &quot;event_date&quot;)
	@Temporal(TemporalType.TIMESTAMP)
	@DataTableColumn(inputType = DataTableColumnType.DATETIME, title=&quot;editor.eventDate&quot;,
		tab = &quot;perex&quot;, visible = false, sortAfter = &quot;editorFields.disableAfterEnd&quot;,
		editor = {
			@DataTableColumnEditor(attr = {
					@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;)
			})
		}
	)
	private Date eventDateDate;

<span class="fc" id="L665">	@Column(name = &quot;html_data&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXTAREA, className = &quot;wrap&quot;, title=&quot;editor.tab.perex&quot;,
		tab = &quot;perex&quot;, visible = false, sortAfter = &quot;eventDateDate&quot;
	)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String htmlData = &quot;&quot;;

<span class="fc" id="L672">	@Column(name = &quot;perex_place&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;editor.perex.place&quot;,
		tab = &quot;perex&quot;, visible = false, sortAfter = &quot;htmlData&quot;
	)
	private String perexPlace = &quot;&quot;;

<span class="fc" id="L678">	@Column(name = &quot;perex_image&quot;)</span>
	@DataTableColumn(inputType = DataTableColumnType.ELFINDER, title=&quot;editor.perex.image&quot;,
		tab = &quot;perex&quot;, visible = false, sortAfter = &quot;perexPlace&quot;,
		className = &quot;image&quot;,
		editor = {
			@DataTableColumnEditor(attr = {
					@DataTableColumnEditorAttr(key = &quot;data-dt-field-hr&quot;, value = &quot;after&quot;)
			})
		},
		renderFormat = &quot;dt-format-image&quot;
	)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String perexImage = &quot;&quot;;

<span class="fc" id="L692">	@Transient</span>
	@DataTableColumn(inputType = DataTableColumnType.TEXT, title=&quot;groupslist.approve.authorName&quot;,
		visible = true, hiddenEditor = true, sortAfter = &quot;title&quot;, orderable = false, filter = true
	)
	private String authorName = &quot;&quot;;

	@Transient
	private String docLink;

	@Column(name = &quot;data&quot;)
	@DataTableColumn(inputType = DataTableColumnType.WYSIWYG, title=&quot;components.news.template_html&quot;,
		hidden = true, tab=&quot;content&quot;
	)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String data;

	@Column(name = &quot;data_asc&quot;)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String dataAsc;

	@Column(name = &quot;author_id&quot;)
	private int authorId;

	@Transient
	private String tempName;

	@Transient
	private String publishEndString;

	@Transient
	private String publishEndTimeString;

	@Transient
	private String publishStartString;

	@Transient
	private String publishStartStringExtra;

	@Transient
	private String publishStartTimeString;

	@Transient
	private String syncDefaultForGroupId;

	@Transient
	private String syncRemotePath;

<span class="fc" id="L739">	@Column(name = &quot;logon_page_doc_id&quot;)</span>
	private int logonPageDocId = 0;

	@Column(name = &quot;sync_id&quot;)
	private int syncId;

	@Column(name = &quot;sync_status&quot;)
	private int syncStatus;

	@Column(name = &quot;forum_count&quot;, updatable = false)
	private int forumCount;

	//Must be change from Transient to Column, because we need save this method
	// @Size(max = 255)
	@Column(name = &quot;file_name&quot;)
	@javax.persistence.Convert(converter = AllowHtmlAttributeConverter.class)
	private String fileName;

	@Transient
	private String authorEmail;

	@Transient
	private String authorPhoto;

<span class="fc" id="L763">	@Column(name = &quot;views_total&quot;, updatable = false)</span>
	private int viewsTotal = 0;

<span class="fc" id="L766">	@Transient</span>
	@DataTableColumnNested
	private transient DocEditorFields editorFields = null;

<span class="fc" id="L770">	public DocBasic(){</span>
		//konstruktor
<span class="fc" id="L772">	}</span>

	//============ Veci pre shop ==================

	@JsonIgnore
	public BigDecimal getPrice()
	{
<span class="fc" id="L779">		return getPrice(null);</span>
	}

	public BigDecimal getPrice(HttpServletRequest request)
	{
<span class="fc" id="L784">		String str = &quot;0&quot;;</span>
<span class="fc" id="L785">		String productType = &quot;&quot;;</span>
		try
		{
<span class="fc" id="L788">			str = BeanUtils.getProperty(this, Constants.getString(&quot;basketPriceField&quot;));</span>
<span class="fc" id="L789">			productType = BeanUtils.getProperty(this, Constants.getString(&quot;basketProductTypeField&quot;));</span>
		}
<span class="nc" id="L791">		catch (Exception ex)</span>
		{
<span class="nc" id="L793">			Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L794">		}</span>
<span class="pc bpc" id="L795" title="1 of 4 branches missed.">		if(Tools.isNotEmpty(str) &amp;&amp; Character.isLetter(str.trim().charAt(0)))</span>
<span class="nc" id="L796">			str = getPriceStringByCategory(str.trim().charAt(0),productType);</span>

<span class="fc" id="L798">		return parse(str,request);</span>
	}

	//TODO - !!! temporally solution, need to be deleted !!!
	//After merge with remastred version of BASKET logic
<span class="fc" id="L803">	public double getPriceDouble(HttpServletRequest request) { return getPrice(request).doubleValue(); }</span>
<span class="fc" id="L804">	public double getVatDouble() { return getVat().doubleValue(); }</span>
<span class="nc" id="L805">	public double getLocalPriceDouble(HttpServletRequest request, String userCurrency) { return getLocalPrice(request, userCurrency).doubleValue(); }</span>
<span class="nc" id="L806">	public double getLocalPriceDouble(HttpServletRequest request) { return getLocalPrice(request).doubleValue(); }</span>

	/**
	 * ziska cenu ako string z {@link Constants} na zaklade kluca basketPrice+productType+priceCategory ie. basketPriceObalkaC a pod.
	 * @param priceCategory pismenko definujuce cenovu kategoriu, bude konvertnute na uppercase
	 * @param productType typ produktu, ak su rozne cenove kategorie pre rozne typy produktov
	 * @return cenu ako string
	 */
	private String getPriceStringByCategory(char priceCategory, String productType)
	{
<span class="nc" id="L816">		String constKey = &quot;basketPrice&quot;;</span>
<span class="nc bnc" id="L817" title="All 2 branches missed.">		if(Tools.isNotEmpty(productType))</span>
<span class="nc" id="L818">			constKey += DB.internationalToEnglish(productType.replaceAll(&quot;\\s&quot;, &quot;&quot;).replaceAll(&quot;[-+.^:,]&quot;,&quot;&quot;));</span>
<span class="nc" id="L819">		constKey += Character.toUpperCase(priceCategory);</span>
<span class="nc" id="L820">		return Constants.getString(constKey);</span>
	}

	/**
	 * Vrati cenu &quot;dokumentu&quot; v mene, ktora sa vyhodnoti na zaklade requestu.
	 *
	 * @param request
	 * @return BigDecimal cena v danej mene
	 */
	public BigDecimal getLocalPrice(HttpServletRequest request)
	{
<span class="nc" id="L831">		return getLocalPrice( request, BasketDBTools.getDisplayCurrency(request) );</span>
	}

	@JsonIgnore
	public String getCurrency()
	{
<span class="fc" id="L837">		String itemCurrency = &quot;skk&quot;;</span>
		try
		{
<span class="fc" id="L840">			itemCurrency = BeanUtils.getProperty(this, Constants.getString(&quot;basketCurrencyField&quot;));</span>
<span class="fc bfc" id="L841" title="All 2 branches covered.">			if (Tools.isEmpty(itemCurrency))</span>
<span class="fc" id="L842">				itemCurrency = Constants.getString(&quot;basketProductCurrency&quot;);</span>
			//ak sme stale nic nezistili, ideme na zaloznu moznost...skk
<span class="pc bpc" id="L844" title="1 of 2 branches missed.">			if (Tools.isEmpty(itemCurrency))</span>
<span class="nc" id="L845">				itemCurrency = &quot;skk&quot;;</span>
		}
<span class="nc" id="L847">		catch (Exception ex)</span>
		{
<span class="nc" id="L849">			Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L850">		}</span>
<span class="fc" id="L851">		return itemCurrency.toLowerCase();</span>
	}

	/**
	 * Prepocita zadanu cenu z meny vedenej u vyrobku na menu zadanu ako paramater.
	 * Mena sa zadava v jej medzinarodnom kodovom oznaceni. Najpouzivanejsie meny
	 * slovenska koruna - skk , ceska - czk, euro - eur, britska libra - gbp, americky dolar - usd.
	 * AK VYROBOK MOZE MAT VIAC CIEN, zalezajucich od skupiny, v ktorej sa
	 * pouzivatel nachadza, POUZITE METODU getLocalPrice()
	 *
	 * @param basePrice - cena, ktoru chceme prepocitat
	 * @param userCurrency - kodove oznacenie meny, v ktorej chceme dostat vysledok
	 * @return BigDecimal Cena vo vyslednej mene
	 */
	public BigDecimal calculateLocalPrice(BigDecimal basePrice, String userCurrency)
	{
<span class="fc" id="L867">		String itemCurrency = getCurrency();</span>
<span class="fc" id="L868">		userCurrency = userCurrency.toLowerCase();</span>
		// samotny prepocet mien
<span class="fc bfc" id="L870" title="All 2 branches covered.">		if (!itemCurrency.equalsIgnoreCase(userCurrency))</span>
		{
<span class="fc" id="L872">			String constantName = &quot;kurz_&quot; + itemCurrency + &quot;_&quot; + userCurrency;</span>
			BigDecimal rate;
			// nasli sme bezny kurz
<span class="pc bpc" id="L875" title="1 of 2 branches missed.">			if (Tools.isNotEmpty(Constants.getString(constantName)))</span>
			{
<span class="nc" id="L877">				rate = new BigDecimal( Constants.getString(constantName) );</span>
<span class="nc" id="L878">				return basePrice.multiply(rate);</span>
			}
			// nevyslo, skusime opacnu konverziu
<span class="fc" id="L881">			constantName = &quot;kurz_&quot; + userCurrency + &quot;_&quot; + itemCurrency;</span>
			// podobne, ako hore, ale kedze ide o opacny kurz, musime spravit
			// 1/kurz
<span class="pc bpc" id="L884" title="1 of 2 branches missed.">			if (Tools.isNotEmpty(Constants.getString(constantName)))</span>
			{
<span class="nc" id="L886">				rate = new BigDecimal( Constants.getString(constantName) );</span>
<span class="nc" id="L887">				return  ( (VALUE_OF_1).divide(rate) ).multiply(basePrice);</span>
			}
		}
		// nedopracovali sme sa k vysledku, vraciame povodnu cenu
<span class="fc" id="L891">		return basePrice;</span>
	}

	/**
	 * Vrati cenu &quot;dokumentu&quot; v zadanej mene. Ak je dokument vedeny v
	 * databaze pod inou menou, cena sa prepocita, ak existuje vzajomny kurz.
	 *
	 * Ak nepozna menu, ktora bola zadana, vrati sa cena zapisana v databaze nehladiac
	 * na menu, v akej je zapisana.
	 *
	 * @param request
	 * @param userCurrency String kodove oznacenie meny @see {@link DocDetails#calculateLocalPrice(double, String)}
	 * @return BigDecimal cena
	 */
	public BigDecimal getLocalPrice(HttpServletRequest request, String userCurrency)
	{
		// ziskame si beznu cenu vyrobku, este nevieme, v akej mene
<span class="fc" id="L908">		BigDecimal itemPrice = getPrice(request);</span>
<span class="fc" id="L909">		return calculateLocalPrice(itemPrice, userCurrency);</span>
	}

	/**
	 * Vypocita cenu aj s DPH v defaultnej mene pouzivatela.
	 * @param request
	 * @return BigDecimal cena
	 */
	public BigDecimal getLocalPriceVat(HttpServletRequest request)
	{
<span class="nc" id="L919">		BigDecimal localPrice = getLocalPrice(request);</span>
		//AKA (getVat / 100 + 1) * localPrice
<span class="nc" id="L921">		return ( (getVat().divide(VALUE_OF_100)).add(VALUE_OF_1) ).multiply(localPrice);</span>
	}

	/**
	 * Vypocita cenu aj s DPH v zadanej mene
	 * @param request
	 * @param currency String kodove oznacenie meny @see {@link DocDetails#calculateLocalPrice(double, String)}
	 * @return BigDecimal cena
	 */
	public BigDecimal getLocalPriceVat(HttpServletRequest request, String currency)
	{
<span class="fc" id="L932">		BigDecimal localPrice = getLocalPrice(request, currency);</span>
		//AKA (getVat / 100 + 1) * localPrice
<span class="fc" id="L934">		return ( ( getVat().divide(VALUE_OF_100) ).add(VALUE_OF_1) ).multiply(localPrice);</span>
	}

	@JsonIgnore
	public BigDecimal getVat()
	{
<span class="fc" id="L940">		String str = &quot;0&quot;;</span>
		try
		{
<span class="fc" id="L943">			str = BeanUtils.getProperty(this, Constants.getString(&quot;basketVatField&quot;));</span>
		}
<span class="nc" id="L945">		catch (Exception ex)</span>
		{
<span class="nc" id="L947">			Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L948">		}</span>
<span class="pc bpc" id="L949" title="3 of 4 branches missed.">		if(Constants.getInt(&quot;basketVatPercentage&quot;) &gt; 0 &amp;&amp; Tools.getDoubleValue(str, 0) == 0d)</span>
<span class="nc" id="L950">			return BigDecimal.valueOf( Constants.getInt(&quot;basketVatPercentage&quot;) );</span>
<span class="fc" id="L951">		return Tools.getBigDecimalValue(str, &quot;0&quot;);</span>
	}

	@JsonIgnore
	public BigDecimal getPriceVat()
	{
<span class="fc" id="L957">		BigDecimal vat = getVat();</span>
<span class="fc" id="L958">		vat = (vat.divide(VALUE_OF_100)).add(VALUE_OF_1);</span>

<span class="fc" id="L960">		return getPrice().multiply(vat);</span>
	}

	@JsonIgnore
	public BigDecimal getPriceVat(HttpServletRequest request)
	{
<span class="nc" id="L966">		BigDecimal vat = getVat();</span>
<span class="nc" id="L967">		vat = (vat.divide(VALUE_OF_100)).add(VALUE_OF_1);</span>

<span class="nc" id="L969">		return getPrice(request).multiply(vat);</span>
	}

	@JsonIgnore
	public int getQuantity()
	{
<span class="fc" id="L975">		 String str = &quot;0&quot;;</span>
		 try
		 {
<span class="fc" id="L978">			  str = BeanUtils.getProperty(this, Constants.getString(&quot;basketQuantityField&quot;));</span>
		 }
<span class="nc" id="L980">		 catch (Exception ex)</span>
		 {
<span class="nc" id="L982">			 Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L983">		 }</span>
<span class="fc" id="L984">		 return(Tools.getIntValue(str, 0));</span>
	}
	//============ Veci pre shop koniec ===========

	public Long getId()
	{
<span class="nc" id="L990">		return null;</span>
	}

	public void setId(Long id)
	{
		//MUST IMPLEMENT
<span class="nc" id="L996">	}</span>

	/**
	 * id dokumentu
	 * @return
	 */
	public int getDocId()
	{
<span class="nc" id="L1004">		return 0; //NOSONAR</span>
	}

	public void setDocId(int newDocId)
	{
		//MUST IMPLEMENT
<span class="nc" id="L1010">	}</span>

	/**
	 * last save date as timestamp
	 * @return
	 */
	public long getDateCreated()
	{
<span class="fc bfc" id="L1018" title="All 2 branches covered.">		if (dateCreated == null) return 0;</span>
<span class="fc" id="L1019">		return dateCreated.getTime();</span>
	}

	public void setPublishStart(long newPublishStart)
	{
<span class="fc bfc" id="L1024" title="All 2 branches covered.">		if (newPublishStart == 0) return;</span>
<span class="fc" id="L1025">		this.publishStartDate = new Date(newPublishStart);</span>
<span class="fc" id="L1026">		setPublishStartString(Tools.formatDate(publishStartDate));</span>
<span class="fc" id="L1027">		setPublishStartTimeString(Tools.formatTime(publishStartDate));</span>
<span class="fc" id="L1028">	}</span>

	public void setPublishEnd(long newPublishEnd)
	{
<span class="fc bfc" id="L1032" title="All 2 branches covered.">		if (newPublishEnd == 0) return;</span>
<span class="fc" id="L1033">		this.publishEndDate = new Date(newPublishEnd);</span>
<span class="fc" id="L1034">		setPublishEndString(Tools.formatDate(publishEndDate));</span>
<span class="fc" id="L1035">		setPublishEndTimeString(Tools.formatTime(publishEndDate));</span>
<span class="fc" id="L1036">	}</span>

	/**
	 * meno autora dokumentu
	 * @return
	 */
	public String getAuthorName()
	{
<span class="pc bpc" id="L1044" title="1 of 2 branches missed.">		if (shouldLazyLoadAuthorInformation())</span>
<span class="nc" id="L1045">			loadAuthorInformation();</span>
<span class="fc" id="L1046">		String name = this.authorName;</span>

<span class="pc bpc" id="L1048" title="1 of 2 branches missed.">		if (name == null) return &quot;&quot;;</span>
<span class="fc" id="L1049">		return name;</span>
	}

    /**
     * Vrati fotku pouzivatela, alebo defaultPhoto ak nema ziadnu zadanu
     * @param defaultPhoto
     * @return
     */
    public String getAuthorPhoto(String defaultPhoto)
    {
<span class="nc bnc" id="L1059" title="All 2 branches missed.">        if (shouldLazyLoadAuthorInformation())</span>
<span class="nc" id="L1060">            loadAuthorInformation();</span>
<span class="nc" id="L1061">        String photo = this.authorPhoto;</span>

<span class="nc bnc" id="L1063" title="All 2 branches missed.">        if(Tools.isEmpty(photo)) return defaultPhoto;</span>
<span class="nc" id="L1064">        return GalleryDB.getImagePathOriginal(photo);</span>
    }

	private boolean shouldLazyLoadAuthorInformation()
	{
<span class="pc bpc" id="L1069" title="3 of 4 branches missed.">		return Constants.getBoolean(&quot;docAuthorLazyLoad&quot;) &amp;&amp; !lazyLoaded;</span>
	}

	private void loadAuthorInformation()
	{
<span class="nc" id="L1074">		UserDetails user = UsersDB.getUser(getAuthorId());</span>
<span class="nc bnc" id="L1075" title="All 2 branches missed.">		if (user != null)</span>
		{
<span class="nc" id="L1077">			this.authorEmail = user.getEmail();</span>
<span class="nc" id="L1078">			this.authorName = user.getFullName();</span>
<span class="nc" id="L1079">			this.authorPhoto = user.getPhoto();</span>
		}
<span class="nc" id="L1081">		lazyLoaded = true;</span>
<span class="nc" id="L1082">	}</span>

	// /**
	//  * prehladavatelne
	//  * @return
	//  */
	// public boolean isSearchable()
	// {
	// 	return searchable;
	// }

	public boolean isAvailable()
	{
<span class="fc" id="L1095">		return available;</span>
	}

	/**
	 * cachovat
	 * @return
	 */
	public boolean isCacheable()
	{
<span class="fc" id="L1104">		return cacheable;</span>
	}

	/**
	 * titulok
	 * @return
	 */
	public String getTitle()
	{
<span class="pc bpc" id="L1113" title="2 of 4 branches missed.">		if (title==null || title.length()==0)</span>
		{
<span class="nc" id="L1115">			title = &quot;no name&quot;;</span>
		}
<span class="fc" id="L1117">		return title;</span>
	}

	/**
	 * titulok v menu
	 * @return
	 */
	public String getNavbar()
	{
<span class="pc bpc" id="L1126" title="1 of 4 branches missed.">		if (navbar == null || navbar.length() &lt; 1)</span>
		{
<span class="fc" id="L1128">			return (title);</span>
		}
		else
		{
<span class="fc" id="L1132">			return (navbar);</span>
		}
	}

	/**
	 * formated last save date
	 * @return
	 */
	@JsonIgnore
	public String getDateCreatedString()
	{
<span class="pc bpc" id="L1143" title="1 of 4 branches missed.">		if (dateCreated != null &amp;&amp; dateCreated.getTime()&gt;0)</span>
		{
<span class="fc" id="L1145">			return(Tools.formatDate(dateCreated));</span>
		}
<span class="fc" id="L1147">		return &quot;&quot;;</span>
	}

	@JsonIgnore
	public String getLastUpdateDate()
	{
<span class="fc" id="L1153">		return getDateCreatedString();</span>
	}

	/**
	 * formated last save time
	 * @return
	 */
	@JsonIgnore
	public String getTimeCreatedString()
	{
<span class="pc bpc" id="L1163" title="1 of 4 branches missed.">		if (dateCreated != null &amp;&amp; dateCreated.getTime()&gt;0)</span>
		{
<span class="fc" id="L1165">			return(Tools.formatTime(dateCreated));</span>
		}
<span class="fc" id="L1167">		return(&quot;&quot;);</span>
	}

	@JsonIgnore
	public String getLastUpdateTime()
	{
<span class="fc" id="L1173">		return getTimeCreatedString();</span>
	}

	public void setPasswordProtected(String passwordProtected)
	{
<span class="fc bfc" id="L1178" title="All 4 branches covered.">		if (Tools.isEmpty(passwordProtected) || &quot;,&quot;.equals(passwordProtected))</span>
		{
<span class="fc" id="L1180">			this.passwordProtected = null;</span>
		}
<span class="fc" id="L1182">		else this.passwordProtected = passwordProtected;</span>
<span class="fc" id="L1183">	}</span>

	public boolean isInUserGroup(int userGroupId)
	{
<span class="nc bnc" id="L1187" title="All 2 branches missed.">		if (Tools.isEmpty(passwordProtected)) return(false);</span>
<span class="nc" id="L1188">		StringTokenizer st = new StringTokenizer(passwordProtected, &quot;,&quot;);</span>
<span class="nc bnc" id="L1189" title="All 2 branches missed.">		while (st.hasMoreTokens())</span>
		{
<span class="nc" id="L1191">			int ugid = Tools.getIntValue(st.nextToken(), -1);</span>
<span class="nc bnc" id="L1192" title="All 2 branches missed.">			if (ugid == userGroupId) return(true);</span>
<span class="nc" id="L1193">		}</span>
<span class="nc" id="L1194">		return(false);</span>
	}


	/**
	 * to iste, ako htmlData
	 * @return
	 */
	@JsonIgnore
	public String getPerex()
	{
<span class="fc" id="L1205">		return getHtmlData();</span>
	}

	@JsonIgnore
	public String getPerexPre()
	{
<span class="fc" id="L1211">		String perexPre = getHtmlData();</span>
<span class="pc bpc" id="L1212" title="2 of 6 branches missed.">		if (perexPre != null &amp;&amp; (perexPre.indexOf('&lt;')==-1 &amp;&amp; perexPre.indexOf('&gt;')==-1))</span>
		{
<span class="fc" id="L1214">			return(sk.iway.iwcm.Tools.replace(perexPre, &quot;\n&quot;, &quot;\n&lt;br/&gt;&quot;));</span>
		}
		else
		{
<span class="fc" id="L1218">			return(perexPre);</span>
		}
	}

	public String getDocLink()
	{
<span class="fc" id="L1224">		String link = this.docLink;</span>
<span class="fc bfc" id="L1225" title="All 2 branches covered.">		if (link==null)</span>
		{
<span class="fc" id="L1227">			DocDB docDB = DocDB.getInstance();</span>
<span class="fc" id="L1228">			link = docDB.getDocLink(getDocId(), getExternalLink(), null);</span>
			//docLink = &quot;/showdoc.do?docid=&quot;+docId;
		}
		//odstan zapis s * na konci (nieco/*)
<span class="fc bfc" id="L1232" title="All 2 branches covered.">		if (link.indexOf('*')!=-1)</span>
		{
<span class="fc" id="L1234">			link = Tools.replace(link, &quot;*&quot;, &quot;&quot;);</span>
		}
<span class="fc" id="L1236">		return link;</span>
	}

	@JsonIgnore
	public String getPerexImageSmall()
	{
<span class="fc" id="L1242">		String ret = GalleryToolsForCore.getImagePathSmall(getPerexImage());</span>

<span class="pc bpc" id="L1244" title="1 of 2 branches missed.">		if(ret == null) return &quot;&quot;;</span>
<span class="fc" id="L1245">		return ret;</span>
	}

	@JsonIgnore
	public String getPerexImageNormal()
	{
<span class="fc" id="L1251">		String ret = GalleryToolsForCore.getImagePathNormal(getPerexImage());</span>

<span class="pc bpc" id="L1253" title="1 of 2 branches missed.">		if(ret == null) return &quot;&quot;;</span>
<span class="fc" id="L1254">		return ret;</span>
	}

	@JsonIgnore
	public String getPerexImageOriginal()
	{
<span class="fc" id="L1260">		String ret = GalleryToolsForCore.getImagePathOriginal(getPerexImage());</span>

<span class="pc bpc" id="L1262" title="1 of 2 branches missed.">		if(ret == null) return &quot;&quot;;</span>
<span class="fc" id="L1263">		return ret;</span>
	}

	/**
	 * Vrati true ak sa stranka nachadza v zadanej perex skupine
	 * @param perexGroupId
	 * @return
	 */
	public boolean isInPerexGroup(int perexGroupId)
	{
<span class="pc bpc" id="L1273" title="2 of 4 branches missed.">		if (perexGroups == null || perexGroups.length&lt;1) return false;</span>

<span class="nc bnc" id="L1275" title="All 2 branches missed.">		for (int i=0; i&lt;perexGroups.length; i++)</span>
		{
<span class="nc bnc" id="L1277" title="All 2 branches missed.">			if (perexGroups[i].intValue()==perexGroupId) return(true);</span>
		}
<span class="nc" id="L1279">		return(false);</span>
	}

	/**
	 * Vrati true ak sa stranka nachadza v zadanej perex skupine
	 * @param perexGroupName
	 * @return
	 */
	public boolean hasPerexGroup(String perexGroupName)
	{
<span class="nc" id="L1289">		String perexGroupNames = getPerexGroupString();</span>
<span class="nc bnc" id="L1290" title="All 2 branches missed.">		if(perexGroupNames == null)</span>
		{
<span class="nc" id="L1292">			return false;</span>
		}
<span class="nc bnc" id="L1294" title="All 2 branches missed.">		return perexGroupNames.indexOf(perexGroupName) &gt;= 0;</span>
	}

	/**
	 * Vrati NAZVY (nie ID) perex skupin ako String oddeleny ciarkami	 *
	 */
	@JsonIgnore
	public String getPerexGroupString()
	{
<span class="fc" id="L1303">		StringBuilder ret=null;</span>
<span class="fc" id="L1304">		DocDB docDB = DocDB.getInstance();</span>
		try
		{
<span class="fc bfc" id="L1307" title="All 4 branches covered.">			if (perexGroups!=null &amp;&amp; perexGroups.length&gt;0)</span>
			{
<span class="fc" id="L1309">				int size = perexGroups.length;</span>
				int i;
<span class="fc bfc" id="L1311" title="All 2 branches covered.">				for (i=0; i&lt;size; i++)</span>
				{
<span class="fc" id="L1313">					String name = docDB.convertPerexGroupIdToName(perexGroups[i].intValue());</span>
<span class="fc bfc" id="L1314" title="All 2 branches covered.">					if (Tools.isEmpty(name)) continue;</span>
<span class="fc bfc" id="L1315" title="All 2 branches covered.">					if (ret==null) ret = new StringBuilder(name);</span>
<span class="fc" id="L1316">					else ret.append(&quot;,&quot;).append(name);</span>
				}
			}
		}
<span class="nc" id="L1320">		catch (Exception ex)</span>
		{
<span class="nc" id="L1322">			Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L1323">		}</span>

<span class="fc bfc" id="L1325" title="All 2 branches covered.">		if(ret == null) return &quot;&quot;;</span>
<span class="fc" id="L1326">		return(ret.toString());</span>
	}

	/**
	 * Vrati ID perex skupin ako String oddeleny ciarkami
	 * @return
	 */
	@JsonIgnore
	public String getPerexGroupIdsString()
	{
<span class="fc" id="L1336">		return getPerexGroupIdsString(false);</span>
	}

	/**
	 * Vrati ID perex skupin ako String oddeleny ciarkami
	 * @param addStartEndComma - ak je true na zaciatok a koniec prida ciarku (ak nie je zoznam prazdny), je to tak kvoli DB vyhladavaniu cez LIKE %,cislo,%
	 * @return
	 */
	public String getPerexGroupIdsString(boolean addStartEndComma)
	{
<span class="fc" id="L1346">		StringBuilder ret=null;</span>
		try
		{
<span class="fc bfc" id="L1349" title="All 4 branches covered.">			if (perexGroups!=null &amp;&amp; perexGroups.length&gt;0)</span>
			{
<span class="fc" id="L1351">				int size = perexGroups.length;</span>
				int i;
<span class="fc bfc" id="L1353" title="All 2 branches covered.">				for (i=0; i&lt;size; i++)</span>
				{
<span class="fc bfc" id="L1355" title="All 2 branches covered.">					if (ret==null)</span>
					{
<span class="pc bpc" id="L1357" title="1 of 2 branches missed.">						if (addStartEndComma) ret = new StringBuilder(&quot;,&quot;+perexGroups[i].intValue());</span>
<span class="fc" id="L1358">						else ret = new StringBuilder(&quot;&quot;+perexGroups[i].intValue());</span>
					}
<span class="fc" id="L1360">					else ret.append(&quot;,&quot;).append(perexGroups[i].intValue());</span>
				}
			}
		}
<span class="nc" id="L1364">		catch (Exception ex)</span>
		{
<span class="nc" id="L1366">			Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L1367">		}</span>

<span class="pc bpc" id="L1369" title="2 of 6 branches missed.">		if (ret!=null &amp;&amp; Tools.isNotEmpty(ret) &amp;&amp; addStartEndComma) ret.append(&quot;,&quot;);</span>

<span class="fc bfc" id="L1371" title="All 2 branches covered.">		if(ret == null) return &quot;&quot;;</span>
<span class="fc" id="L1372">		return(ret.toString());</span>
	}

	@JsonIgnore
	/**
	 * Vrati NAZVY (nie ID) perex skupin ako pole
	 * @return
	 */
	public String[] getPerexGroupNames()
	{
<span class="fc bfc" id="L1382" title="All 2 branches covered.">	    if (perexGroups==null) return new String[0];</span>

<span class="fc" id="L1384">		int size = perexGroups.length;</span>
<span class="fc" id="L1385">		String[] perexGroupNames = new String[size];</span>
		int i;
<span class="fc" id="L1387">		DocDB docDB = DocDB.getInstance();</span>
<span class="pc bpc" id="L1388" title="1 of 2 branches missed.">		for (i=0; i&lt;size; i++)</span>
		{
<span class="nc" id="L1390">			perexGroupNames[i]=docDB.convertPerexGroupIdToName(perexGroups[i].intValue());</span>
<span class="nc bnc" id="L1391" title="All 2 branches missed.">			if (perexGroupNames[i] == null) perexGroupNames[i] = &quot;&quot;+perexGroups[i].intValue();</span>
		}
<span class="fc" id="L1393">		return perexGroupNames;</span>
	}

	/**
	 * Returns list of perex groups as full PerexGroupBean objects
	 * @return
	 */
	@JsonIgnore
	public List&lt;PerexGroupBean&gt; getPerexGroupsList()
	{
<span class="fc" id="L1403">		List&lt;PerexGroupBean&gt; perexGroupsList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L1404" title="All 2 branches covered.">		if (perexGroups==null) return perexGroupsList;</span>

<span class="fc" id="L1406">		int size = perexGroups.length;</span>
<span class="fc" id="L1407">		DocDB docDB = DocDB.getInstance();</span>
		int i;
<span class="fc bfc" id="L1409" title="All 2 branches covered.">		for (i=0; i&lt;size; i++)</span>
		{
<span class="fc" id="L1411">			PerexGroupBean pb = docDB.getPerexGroup(perexGroups[i].intValue(), null);</span>
<span class="pc bpc" id="L1412" title="1 of 2 branches missed.">			if (pb != null) perexGroupsList.add(pb);</span>
		}
<span class="fc" id="L1414">		return perexGroupsList;</span>
	}

	/**
	 * Nastavy perex skupiny podla retazca oddeleneho ciarkami, ktory odsahuje ID (nie NAZOV)
	 * @param perexGroupIdsString
	 */
	public void setPerexGroupString(String perexGroupIdsString)
	{
<span class="fc bfc" id="L1423" title="All 2 branches covered.">		if (perexGroupIdsString == null)</span>
		{
<span class="fc" id="L1425">			perexGroups = new Integer[0];</span>
<span class="fc" id="L1426">			return;</span>
		}
<span class="fc" id="L1428">		StringTokenizer st = new StringTokenizer(perexGroupIdsString, &quot;,&quot;);</span>
		try
		{
<span class="fc" id="L1431">			perexGroups = new Integer[st.countTokens()];</span>
<span class="fc" id="L1432">			int i=0;</span>
<span class="fc bfc" id="L1433" title="All 2 branches covered.">			while (st.hasMoreTokens())</span>
			{
<span class="fc" id="L1435">				perexGroups[i++] = Tools.getIntValue(st.nextToken().trim(), 0);</span>
			}
		}
<span class="nc" id="L1438">		catch (Exception ex)</span>
		{
<span class="nc" id="L1440">			Logger.error(DocBasic.class, ex);</span>
<span class="fc" id="L1441">		}</span>
<span class="fc" id="L1442">	}</span>
	/**
	 * zobrazit v menu
	 * @return
	 */
	public boolean isShowInMenu()
	{
<span class="fc" id="L1449">		return showInMenu;</span>
	}

	public void setEventDate(long eventDate)
	{
<span class="fc bfc" id="L1454" title="All 2 branches covered.">		if (eventDate == 0) return;</span>
<span class="fc" id="L1455">		this.eventDateDate = new Date(eventDate);</span>
<span class="fc" id="L1456">		setEventDateString(Tools.formatDate(eventDateDate));</span>
<span class="fc" id="L1457">		setEventTimeString(Tools.formatTime(eventDateDate));</span>
<span class="fc" id="L1458">	}</span>

	/**
	 * email autora dokumentu
	 */
	public String getAuthorEmail()
	{
<span class="pc bpc" id="L1465" title="1 of 2 branches missed.">		if (shouldLazyLoadAuthorInformation())</span>
<span class="nc" id="L1466">			loadAuthorInformation();</span>
<span class="fc" id="L1467">		String email = this.authorEmail;</span>
<span class="fc bfc" id="L1468" title="All 2 branches covered.">		if (email == null) return &quot;&quot;;</span>
<span class="fc" id="L1469">		return email;</span>
	}

	@JsonIgnore
	public int getSyncId()
	{
<span class="fc" id="L1475">		return this.syncId;</span>
	}

	@JsonIgnore
	public void setSyncId(int syncId)
	{
<span class="fc bfc" id="L1481" title="All 2 branches covered.">		if (syncId == 0) return;</span>
<span class="fc" id="L1482">		this.syncId = syncId;</span>
<span class="fc" id="L1483">	}</span>

	@JsonIgnore
	public int getSyncStatus()
	{
<span class="fc" id="L1488">		return this.syncStatus;</span>
	}

	@JsonIgnore
	public void setSyncStatus(int syncStatus)
	{
<span class="fc bfc" id="L1494" title="All 2 branches covered.">		if (syncStatus == 0) return;</span>
<span class="fc" id="L1495">		this.syncStatus = syncStatus;</span>
<span class="fc" id="L1496">	}</span>

	public void setLogonPageDocId(int logonPageDocId)
	{
<span class="fc bfc" id="L1500" title="All 2 branches covered.">		if (logonPageDocId == 0) return;</span>
<span class="fc" id="L1501">		this.logonPageDocId = logonPageDocId;</span>
<span class="fc" id="L1502">	}</span>

	@JsonIgnore
	public int getForumCount()
	{
<span class="fc" id="L1507">		return this.forumCount;</span>
	}

	@JsonIgnore
	public void setForumCount(int forumCount)
	{
<span class="fc bfc" id="L1513" title="All 2 branches covered.">		if (forumCount == 0) return;</span>
<span class="fc" id="L1514">		this.forumCount = forumCount;</span>
<span class="fc" id="L1515">	}</span>

	/**
	 * Zistenie ci stranku mozeme povazovat za novu, zmenenu alebo nemodifikovanu
	 *
	 * nova je taka, ktora nema historiu starsiu ako zadany pocet dni
	 * zmenena je taka, kde doslo za zadany pocet dni k zmene
	 *
	 * @param docId - id stranky
	 * @param minDaysNotChanged - pocet dni, pocas ktorych nesmelo dojst k zmene
	 * @param maxDaysTestChanged - maximalny pocet dni, ktore sa testuju na zmenu (ak v tomto rozsahu nie je ziadna zmena, je dokument bezo zmeny)
	 * @return 0=bez zmeny, 1=nova, 2=zmenena
	 */
	@JsonIgnore
	public int getPageNewChangedStatus()
	{
<span class="fc" id="L1531">		return(DocDB.getPageNewChangedStatus(getDocId(), 1, 7));</span>
	}
	@JsonIgnore
	public int getPageNewChangedStatus(int minDaysNotChanged, int maxDaysTestChanged)
	{
<span class="nc" id="L1536">		return(DocDB.getPageNewChangedStatus(getDocId(), minDaysNotChanged, maxDaysTestChanged));</span>
	}

	public static BigDecimal parse(String str, HttpServletRequest request)
	{
<span class="pc bpc" id="L1541" title="1 of 2 branches missed.">		if (str == null)</span>
<span class="nc" id="L1542">			return VALUE_OF_MINUS_1;</span>

<span class="fc" id="L1544">		BigDecimal min = VALUE_OF_0;</span>
<span class="fc" id="L1545">		BigDecimal firstUserGroupPrice = VALUE_OF_0;</span>
<span class="fc" id="L1546">		String[] tokens = str.split(&quot;\\;&quot;);</span>
<span class="fc" id="L1547">		BigDecimal[] prices = new BigDecimal[tokens.length];</span>
<span class="fc" id="L1548">		Identity user = null;</span>
<span class="fc bfc" id="L1549" title="All 2 branches covered.">		if (request != null) user = (Identity) request.getSession().getAttribute(Constants.USER_KEY);</span>
<span class="fc bfc" id="L1550" title="All 2 branches covered.">		if (user != null)</span>
		{
<span class="pc bpc" id="L1552" title="3 of 6 branches missed.">			if (Constants.getBoolean(&quot;basketDiscountEnabled&quot;) || tokens != null &amp;&amp; tokens.length &gt;= 1)</span>
			{
<span class="fc" id="L1554">				min = Tools.getBigDecimalValue(tokens[0], &quot;-1&quot;);</span>
<span class="fc" id="L1555">				prices[0] = Tools.getBigDecimalValue(tokens[0].substring(tokens[0].indexOf(':') + 1, tokens[0].length()), &quot;-1&quot;);</span>
<span class="fc" id="L1556">				int i = 0;</span>
<span class="fc bfc" id="L1557" title="All 2 branches covered.">				for (String s : tokens)</span>
				{
<span class="pc bpc" id="L1559" title="1 of 2 branches missed.">					if (i == 0)</span>
					{
<span class="fc" id="L1561">						i++;</span>
<span class="fc" id="L1562">						continue;</span>
					}
<span class="nc bnc" id="L1564" title="All 2 branches missed.">					if (s.indexOf(':') != -1)</span>
					{
<span class="nc bnc" id="L1566" title="All 2 branches missed.">						if (user.isInUserGroup(Tools.getIntValue(s.substring(0, s.indexOf(':')), -1)))</span>
						{
<span class="nc" id="L1568">							prices[i] = Tools.getBigDecimalValue(s.substring(s.indexOf(':') + 1, s.length()), &quot;-1&quot;);</span>
<span class="nc bnc" id="L1569" title="All 2 branches missed.">							if (firstUserGroupPrice.compareTo(VALUE_OF_0) == 0) firstUserGroupPrice = prices[i];</span>
						}
						else
						{
<span class="nc" id="L1573">							prices[i] = VALUE_OF_MINUS_1;</span>
						}
					}
<span class="nc" id="L1576">					i++;</span>
				}

<span class="pc bpc" id="L1579" title="3 of 4 branches missed.">				if (firstUserGroupPrice.compareTo(VALUE_OF_0) &gt; 0 &amp;&amp; Constants.getBoolean(&quot;basketUseFirstUserGroupPrice&quot;)) {</span>
<span class="nc" id="L1580">					min = firstUserGroupPrice;</span>
				}
				else {
<span class="fc bfc" id="L1583" title="All 2 branches covered.">					for (BigDecimal p : prices)//najde najnizsiu cenu</span>
					{
<span class="pc bpc" id="L1585" title="2 of 4 branches missed.">						if (min.compareTo(p) &gt;= 0 &amp;&amp; p.equals(VALUE_OF_MINUS_1)==false)</span>
						{
<span class="fc" id="L1587">							min = p;</span>
						}
					}
				}
<span class="pc bpc" id="L1591" title="1 of 2 branches missed.">				if (user.getFieldE() != null)//aplikuje zlavu</span>
				{
<span class="fc" id="L1593">					BigDecimal zlava = Tools.getBigDecimalValue(user.getFieldE(), &quot;0&quot;);</span>
					//AKA (min / 100) * (100 - zlava)
<span class="fc" id="L1595">					min = (min.divide(VALUE_OF_100)).multiply( (VALUE_OF_100.subtract(zlava)) );</span>
				}
<span class="fc" id="L1597">			}</span>
		}
		else
		{
<span class="pc bpc" id="L1601" title="2 of 4 branches missed.">			if (tokens != null &amp;&amp; tokens.length &gt;= 1)</span>
			{
<span class="fc" id="L1603">				min = Tools.getBigDecimalValue(tokens[0], &quot;0&quot;);</span>
			}
		}
<span class="fc" id="L1606">		return min;</span>
	}

	public static Comparator&lt;DocDetails&gt; getTitleComparator()
	{
<span class="nc" id="L1611">		return new Comparator&lt;DocDetails&gt;(){</span>
			@Override
			public int compare(DocDetails doc1, DocDetails doc2)
			{
<span class="nc bnc" id="L1615" title="All 2 branches missed.">				if (doc1 == null)</span>
<span class="nc" id="L1616">					return -1;</span>
<span class="nc bnc" id="L1617" title="All 2 branches missed.">				if (doc2 == null)</span>
<span class="nc" id="L1618">					return 1;</span>
<span class="nc" id="L1619">				return doc1.getTitle().compareTo(doc2.getTitle());</span>
			}
		};
	}

	public boolean isDisableAfterEnd()
	{
<span class="fc" id="L1626">		return disableAfterEnd;</span>
	}

	public static DocDetails getById(int docId)
	{
<span class="nc" id="L1631">		return DocDB.getInstance().getDoc(docId);</span>
	}

	@JsonIgnore
	public GroupDetails getGroup()
	{
<span class="fc" id="L1637">		return GroupsDB.getInstance().getGroup(groupId);</span>
	}

	@JsonIgnore
	public int getViewsTotal()
	{
<span class="fc" id="L1643">		return this.viewsTotal;</span>
	}

	@JsonIgnore
	public void setViewsTotal(int viewsTotal)
	{
<span class="fc bfc" id="L1649" title="All 2 branches covered.">		if (viewsTotal == 0) return;</span>
<span class="fc" id="L1650">		this.viewsTotal = viewsTotal;</span>
<span class="fc" id="L1651">	}</span>

	 /**
	  * datum konania
	  * @return
	  */
	 @JsonIgnore
	 public String getEventDateString()
	 {
<span class="fc" id="L1660">	 	return Tools.formatDate(eventDateDate);</span>
	 }

	 /**
	  * cas konania
	  * @return
	  */
	  @JsonIgnore
	 public String getEventTimeString()
	 {
<span class="fc" id="L1670">	 	return Tools.formatTime(eventDateDate);</span>
	 }

	 @JsonIgnore
	 public String getPublishEndString()
	 {
<span class="fc bfc" id="L1676" title="All 2 branches covered.">		if(this.publishEndString == null) return &quot;&quot;;</span>
<span class="fc" id="L1677">	 	else return this.publishEndString;</span>
	 }

	 @JsonIgnore
	 public String getPublishEndTimeString()
	 {
<span class="fc bfc" id="L1683" title="All 2 branches covered.">		if(this.publishEndTimeString == null) return &quot;&quot;;</span>
<span class="fc" id="L1684">	 	else return this.publishEndTimeString;</span>
	 }

	 @JsonIgnore
	 public String getPublishStartString()
	 {
<span class="fc bfc" id="L1690" title="All 2 branches covered.">		if(this.publishStartString == null) return &quot;&quot;;</span>
<span class="fc" id="L1691">	 	else return this.publishStartString;</span>
	 }

	 @JsonIgnore
	 public String getPublishStartStringExtra()
	 {
<span class="fc bfc" id="L1697" title="All 2 branches covered.">		if(this.publishStartStringExtra == null) return &quot;&quot;;</span>
<span class="fc" id="L1698">	 	else return this.publishStartStringExtra;</span>
	 }

	 @JsonIgnore
	 public String getPublishStartTimeString()
	 {
<span class="fc bfc" id="L1704" title="All 2 branches covered.">		if(this.publishStartTimeString == null) return &quot;&quot;;</span>
<span class="fc" id="L1705">	 	else return this.publishStartTimeString;</span>
	 }

	 @JsonIgnore
	 public String getSyncDefaultForGroupId()
	 {
<span class="pc bpc" id="L1711" title="1 of 2 branches missed.">		if(this.syncDefaultForGroupId == null) return &quot;&quot;;</span>
<span class="nc" id="L1712">	 	else return this.syncDefaultForGroupId;</span>
	 }

	@JsonIgnore
	public String getSyncRemotePath()
	{
<span class="pc bpc" id="L1718" title="1 of 2 branches missed.">		if(this.syncRemotePath == null) return &quot;&quot;;</span>
<span class="nc" id="L1719">		return this.syncRemotePath;</span>
	}

	public boolean isRequireSsl()
	{
<span class="fc" id="L1724">		return requireSsl;</span>
	}

	public void setRequireSsl(boolean requireSsl)
	{
<span class="fc" id="L1729">		this.requireSsl = requireSsl;</span>
<span class="fc" id="L1730">	}</span>

	public DocEditorFields getEditorFields() {
<span class="fc" id="L1733">		return editorFields;</span>
	}

	public void setEditorFields(DocEditorFields editorFields) {
<span class="fc" id="L1737">		this.editorFields = editorFields;</span>
<span class="fc" id="L1738">	}</span>

	/**
	 * Vrati cestu spojenu s GroupDetails.getFullPath, pouziva sa vo WJ9 Datatable
	 * @return
	 */
<span class="fc" id="L1744">	@Transient</span>
	@DataTableColumn(
		inputType = DataTableColumnType.TEXT,
		title = &quot;sync.path&quot;,
		hiddenEditor = true,
		visible = false,
		orderable = false
	)
	private String fullPath = null;

	public String getFullPath() {
<span class="fc bfc" id="L1755" title="All 2 branches covered.">		if (fullPath == null) {</span>
			//ak nie je fullPath nastavene vygeneruj cestu podla priecinka
<span class="fc" id="L1757">			GroupDetails grp = GroupsDB.getInstance().getGroup(getGroupId());</span>
<span class="fc bfc" id="L1758" title="All 2 branches covered.">			if (grp != null) return grp.getFullPath()+&quot;/&quot;+getTitle();</span>
<span class="fc" id="L1759">			return &quot;/&quot;+getTitle();</span>
		}
<span class="fc" id="L1761">		return fullPath;</span>
	}

	public void setFullPath(String fullPath)
	{
<span class="fc" id="L1766">		this.fullPath = fullPath;</span>
<span class="fc" id="L1767">	}</span>

	/**
	 * @deprecated Pouzivajte verziu ktora vrati Integer
	 */
	@JsonIgnore
	@Deprecated
	public String[] getPerexGroup() {
<span class="fc" id="L1775">		return Tools.getTokens(getPerexGroupIdsString(), &quot;,&quot;);</span>
	}

	public void setPerexGroup(String[] perexGroup) {
<span class="fc" id="L1779">		StringBuilder groups = new StringBuilder();</span>

<span class="fc bfc" id="L1781" title="All 2 branches covered.">		for(String pG : perexGroup) {</span>
<span class="fc" id="L1782">			groups.append(pG).append(&quot;,&quot;);</span>
		}

<span class="fc" id="L1785">		setPerexGroupString(groups.toString());</span>
<span class="fc" id="L1786">	}</span>

	public Integer[] getPerexGroups() {
<span class="fc" id="L1789">		return this.perexGroups;</span>
	}

	public void setPerexGroups(Integer[] perexGroups) {
		//perexGroups[0]==null vrati DT pri zvoleni ziadnej polozky
<span class="fc bfc" id="L1794" title="All 8 branches covered.">		if (perexGroups == null || perexGroups.length&lt;1 || (perexGroups.length==1 &amp;&amp; perexGroups[0]==null )) this.perexGroups = new Integer[0];</span>
<span class="fc" id="L1795">		else this.perexGroups = perexGroups;</span>
<span class="fc" id="L1796">	}</span>

	// !!! - Pridane gettery/settery z Integer na int kvoli spatnej kompatibilite
	public int getGroupId() {
<span class="fc" id="L1800">		return groupId;</span>
	}

	public void setGroupId(int groupId) {
<span class="fc" id="L1804">		this.groupId = groupId;</span>
<span class="fc" id="L1805">	}</span>

	public int getAuthorId() {

<span class="fc" id="L1809">		return authorId;</span>
	}

	public void setAuthorId(int newAuthorId)
	{
<span class="fc bfc" id="L1814" title="All 2 branches covered.">		if (newAuthorId == 0) return;</span>
<span class="fc" id="L1815">		this.authorId = newAuthorId;</span>
<span class="fc" id="L1816">	}</span>

	public int getTempId() {
<span class="fc" id="L1819">		return tempId;</span>
	}

	public void setTempId(int tempId) {
<span class="fc" id="L1823">		this.tempId = tempId;</span>
<span class="fc" id="L1824">	}</span>

	public int getSortPriority() {
<span class="fc" id="L1827">		return sortPriority;</span>
	}

	public void setSortPriority(int sortPriority) {
<span class="fc" id="L1831">		this.sortPriority = sortPriority;</span>
<span class="fc" id="L1832">	}</span>

	public int getHeaderDocId() {
<span class="fc" id="L1835">		return headerDocId;</span>
	}

	public void setHeaderDocId(int headerDocId)
	{
<span class="fc" id="L1840">		this.headerDocId = headerDocId;</span>
<span class="fc" id="L1841">	}</span>

	public int getFooterDocId() {
<span class="fc" id="L1844">		return footerDocId;</span>
	}

	public void setFooterDocId(int footerDocId)
	{
<span class="fc" id="L1849">		this.footerDocId = footerDocId;</span>
<span class="fc" id="L1850">	}</span>

	public int getMenuDocId() {
<span class="fc" id="L1853">		return menuDocId;</span>
	}

	public void setMenuDocId(int menuDocId)
	{
<span class="fc" id="L1858">		this.menuDocId = menuDocId;</span>
<span class="fc" id="L1859">	}</span>

	public int getRightMenuDocId() {
<span class="fc" id="L1862">		return this.rightMenuDocId;</span>
	}

	public void setRightMenuDocId(int rightMenuDocId)
	{
<span class="fc" id="L1867">		this.rightMenuDocId = rightMenuDocId;</span>
<span class="fc" id="L1868">	}</span>

	// !!! Vygenerovane geetry/settery pretoze pomocou lomboku sa neprenesu na childa
	public void setTitle(String title) {
<span class="pc bpc" id="L1872" title="1 of 2 branches missed.">		if (isEmpty(title)) return;</span>
<span class="fc" id="L1873">		this.title = title;</span>
<span class="fc" id="L1874">	}</span>

	public void setNavbar(String navbar) {
<span class="fc bfc" id="L1877" title="All 2 branches covered.">		if (isEmpty(navbar)) return;</span>
<span class="fc" id="L1878">		this.navbar = navbar;</span>
<span class="fc" id="L1879">	}</span>

	public String getVirtualPath() {
<span class="pc bpc" id="L1882" title="1 of 2 branches missed.">		if(virtualPath == null) return &quot;&quot;;</span>
<span class="fc" id="L1883">		return virtualPath;</span>
	}

	public void setVirtualPath(String virtualPath) {
<span class="pc bpc" id="L1887" title="1 of 2 branches missed.">		if (virtualPath == null) return;</span>
<span class="fc" id="L1888">		this.virtualPath = virtualPath;</span>
<span class="fc" id="L1889">	}</span>

	public String getExternalLink() {
<span class="fc bfc" id="L1892" title="All 2 branches covered.">		if(externalLink == null) return &quot;&quot;;</span>
<span class="fc" id="L1893">		return externalLink;</span>
	}

	public void setExternalLink(String externalLink) {
<span class="fc bfc" id="L1897" title="All 2 branches covered.">		if (isEmpty(externalLink)) return;</span>
<span class="fc" id="L1898">		this.externalLink = externalLink;</span>
<span class="fc" id="L1899">	}</span>

	public void setAvailable(boolean available) {
<span class="fc" id="L1902">		this.available = available;</span>
<span class="fc" id="L1903">	}</span>

	public boolean isSearchable() {
<span class="fc" id="L1906">		return searchable;</span>
	}

	public void setSearchable(boolean searchable) {
<span class="fc" id="L1910">		this.searchable = searchable;</span>
<span class="fc" id="L1911">	}</span>

	public void setCacheable(boolean cacheable) {
<span class="fc" id="L1914">		this.cacheable = cacheable;</span>
<span class="fc" id="L1915">	}</span>

	public String getPasswordProtected() {
<span class="fc bfc" id="L1918" title="All 2 branches covered.">		if(passwordProtected == null) return &quot;&quot;;</span>
<span class="fc" id="L1919">		return passwordProtected;</span>
	}

	public void setDisableAfterEnd(boolean disableAfterEnd) {
<span class="fc" id="L1923">		this.disableAfterEnd = disableAfterEnd;</span>
<span class="fc" id="L1924">	}</span>

	public boolean isPublishAfterStart() {
<span class="fc" id="L1927">		return publishAfterStart;</span>
	}

	public void setPublishAfterStart(boolean publishAfterStart) {
<span class="fc" id="L1931">		this.publishAfterStart = publishAfterStart;</span>
<span class="fc" id="L1932">	}</span>

	public boolean isLazyLoaded() {
<span class="fc" id="L1935">		return lazyLoaded;</span>
	}

	public void setLazyLoaded(boolean lazyLoaded) {
<span class="fc" id="L1939">		this.lazyLoaded = lazyLoaded;</span>
<span class="fc" id="L1940">	}</span>

	public String getFieldA() {
<span class="fc bfc" id="L1943" title="All 2 branches covered.">		if(fieldA == null) return &quot;&quot;;</span>
<span class="fc" id="L1944">		return fieldA;</span>
	}

	public void setFieldA(String fieldA) {
<span class="fc bfc" id="L1948" title="All 2 branches covered.">		if (isEmpty(fieldA)) return;</span>
<span class="fc" id="L1949">		this.fieldA = fieldA;</span>
<span class="fc" id="L1950">	}</span>

	public String getFieldB() {
<span class="fc bfc" id="L1953" title="All 2 branches covered.">		if(fieldB == null) return &quot;&quot;;</span>
<span class="fc" id="L1954">		return fieldB;</span>
	}

	public void setFieldB(String fieldB) {
<span class="fc bfc" id="L1958" title="All 2 branches covered.">		if (isEmpty(fieldB)) return;</span>
<span class="fc" id="L1959">		this.fieldB = fieldB;</span>
<span class="fc" id="L1960">	}</span>

	public String getFieldC() {
<span class="fc bfc" id="L1963" title="All 2 branches covered.">		if(fieldC == null) return &quot;&quot;;</span>
<span class="fc" id="L1964">		return fieldC;</span>
	}

	public void setFieldC(String fieldC) {
<span class="fc bfc" id="L1968" title="All 2 branches covered.">		if (isEmpty(fieldC)) return;</span>
<span class="fc" id="L1969">		this.fieldC = fieldC;</span>
<span class="fc" id="L1970">	}</span>

	public String getFieldD() {
<span class="fc bfc" id="L1973" title="All 2 branches covered.">		if(fieldD == null) return &quot;&quot;;</span>
<span class="fc" id="L1974">		return fieldD;</span>
	}

	public void setFieldD(String fieldD) {
<span class="fc bfc" id="L1978" title="All 2 branches covered.">		if (isEmpty(fieldD)) return;</span>
<span class="fc" id="L1979">		this.fieldD = fieldD;</span>
<span class="fc" id="L1980">	}</span>

	public String getFieldE() {
<span class="fc bfc" id="L1983" title="All 2 branches covered.">		if(fieldE == null) return &quot;&quot;;</span>
<span class="fc" id="L1984">		return fieldE;</span>
	}

	public void setFieldE(String fieldE) {
<span class="fc bfc" id="L1988" title="All 2 branches covered.">		if (isEmpty(fieldE)) return;</span>
<span class="fc" id="L1989">		this.fieldE = fieldE;</span>
<span class="fc" id="L1990">	}</span>

	public String getFieldF() {
<span class="fc bfc" id="L1993" title="All 2 branches covered.">		if(fieldF == null) return &quot;&quot;;</span>
<span class="fc" id="L1994">		return fieldF;</span>
	}

	public void setFieldF(String fieldF) {
<span class="fc bfc" id="L1998" title="All 2 branches covered.">		if (isEmpty(fieldF)) return;</span>
<span class="fc" id="L1999">		this.fieldF = fieldF;</span>
<span class="fc" id="L2000">	}</span>

	public String getFieldG() {
<span class="fc bfc" id="L2003" title="All 2 branches covered.">		if(fieldG == null) return &quot;&quot;;</span>
<span class="fc" id="L2004">		return fieldG;</span>
	}

	public void setFieldG(String fieldG) {
<span class="fc bfc" id="L2008" title="All 2 branches covered.">		if (isEmpty(fieldG)) return;</span>
<span class="fc" id="L2009">		this.fieldG = fieldG;</span>
<span class="fc" id="L2010">	}</span>

	public String getFieldH() {
<span class="fc bfc" id="L2013" title="All 2 branches covered.">		if(fieldH == null) return &quot;&quot;;</span>
<span class="fc" id="L2014">		return fieldH;</span>
	}

	public void setFieldH(String fieldH) {
<span class="fc bfc" id="L2018" title="All 2 branches covered.">		if (isEmpty(fieldH)) return;</span>
<span class="fc" id="L2019">		this.fieldH = fieldH;</span>
<span class="fc" id="L2020">	}</span>

	public String getFieldI() {
<span class="fc bfc" id="L2023" title="All 2 branches covered.">		if(fieldI == null) return &quot;&quot;;</span>
<span class="fc" id="L2024">		return fieldI;</span>
	}

	public void setFieldI(String fieldI) {
<span class="fc bfc" id="L2028" title="All 2 branches covered.">		if (isEmpty(fieldI)) return;</span>
<span class="fc" id="L2029">		this.fieldI = fieldI;</span>
<span class="fc" id="L2030">	}</span>

	public String getFieldJ() {
<span class="fc bfc" id="L2033" title="All 2 branches covered.">		if(fieldJ == null) return &quot;&quot;;</span>
<span class="fc" id="L2034">		return fieldJ;</span>
	}

	public void setFieldJ(String fieldJ) {
<span class="fc bfc" id="L2038" title="All 2 branches covered.">		if (isEmpty(fieldJ)) return;</span>
<span class="fc" id="L2039">		this.fieldJ = fieldJ;</span>
<span class="fc" id="L2040">	}</span>

	public String getFieldK() {
<span class="fc bfc" id="L2043" title="All 2 branches covered.">		if(fieldK == null) return &quot;&quot;;</span>
<span class="fc" id="L2044">		return fieldK;</span>
	}

	public void setFieldK(String fieldK) {
<span class="fc bfc" id="L2048" title="All 2 branches covered.">		if (isEmpty(fieldK)) return;</span>
<span class="fc" id="L2049">		this.fieldK = fieldK;</span>
<span class="fc" id="L2050">	}</span>

	public String getFieldL() {
<span class="fc bfc" id="L2053" title="All 2 branches covered.">		if(fieldL == null) return &quot;&quot;;</span>
<span class="fc" id="L2054">		return fieldL;</span>
	}

	public void setFieldL(String fieldL) {
<span class="fc bfc" id="L2058" title="All 2 branches covered.">		if (isEmpty(fieldL)) return;</span>
<span class="fc" id="L2059">		this.fieldL = fieldL;</span>
<span class="fc" id="L2060">	}</span>

	public String getFieldM() {
<span class="fc bfc" id="L2063" title="All 2 branches covered.">		if(fieldM == null) return &quot;&quot;;</span>
<span class="fc" id="L2064">		return fieldM;</span>
	}

	public void setFieldM(String fieldM) {
<span class="fc bfc" id="L2068" title="All 2 branches covered.">		if (isEmpty(fieldM)) return;</span>
<span class="fc" id="L2069">		this.fieldM = fieldM;</span>
<span class="fc" id="L2070">	}</span>

	public String getFieldN() {
<span class="fc bfc" id="L2073" title="All 2 branches covered.">		if(fieldN == null) return &quot;&quot;;</span>
<span class="fc" id="L2074">		return fieldN;</span>
	}

	public void setFieldN(String fieldN) {
<span class="fc bfc" id="L2078" title="All 2 branches covered.">		if (isEmpty(fieldN)) return;</span>
<span class="fc" id="L2079">		this.fieldN = fieldN;</span>
<span class="fc" id="L2080">	}</span>

	public String getFieldO() {
<span class="fc bfc" id="L2083" title="All 2 branches covered.">		if(fieldO == null) return &quot;&quot;;</span>
<span class="fc" id="L2084">		return fieldO;</span>
	}

	public void setFieldO(String fieldO) {
<span class="pc bpc" id="L2088" title="1 of 2 branches missed.">		if (isEmpty(fieldO)) return;</span>
<span class="nc" id="L2089">		this.fieldO = fieldO;</span>
<span class="nc" id="L2090">	}</span>

	public String getFieldP() {
<span class="fc bfc" id="L2093" title="All 2 branches covered.">		if(fieldP == null) return &quot;&quot;;</span>
<span class="fc" id="L2094">		return fieldP;</span>
	}

	public void setFieldP(String fieldP) {
<span class="fc bfc" id="L2098" title="All 2 branches covered.">		if (isEmpty(fieldP)) return;</span>
<span class="fc" id="L2099">		this.fieldP = fieldP;</span>
<span class="fc" id="L2100">	}</span>

	public String getFieldQ() {
<span class="fc bfc" id="L2103" title="All 2 branches covered.">		if(fieldQ == null) return &quot;&quot;;</span>
<span class="fc" id="L2104">		return fieldQ;</span>
	}

	public void setFieldQ(String fieldQ) {
<span class="fc bfc" id="L2108" title="All 2 branches covered.">		if (isEmpty(fieldQ)) return;</span>
<span class="fc" id="L2109">		this.fieldQ = fieldQ;</span>
<span class="fc" id="L2110">	}</span>

	public String getFieldR() {
<span class="fc bfc" id="L2113" title="All 2 branches covered.">		if(fieldR == null) return &quot;&quot;;</span>
<span class="fc" id="L2114">		return fieldR;</span>
	}

	public void setFieldR(String fieldR) {
<span class="pc bpc" id="L2118" title="1 of 2 branches missed.">		if (isEmpty(fieldR)) return;</span>
<span class="nc" id="L2119">		this.fieldR = fieldR;</span>
<span class="nc" id="L2120">	}</span>

	public String getFieldS() {
<span class="fc bfc" id="L2123" title="All 2 branches covered.">		if(fieldS == null) return &quot;&quot;;</span>
<span class="fc" id="L2124">		return fieldS;</span>
	}

	public void setFieldS(String fieldS) {
<span class="pc bpc" id="L2128" title="1 of 2 branches missed.">		if (isEmpty(fieldS)) return;</span>
<span class="nc" id="L2129">		this.fieldS = fieldS;</span>
<span class="nc" id="L2130">	}</span>

	public String getFieldT() {
<span class="pc bpc" id="L2133" title="1 of 2 branches missed.">		if(fieldT == null) return &quot;&quot;;</span>
<span class="fc" id="L2134">		return fieldT;</span>
	}

	public void setFieldT(String fieldT) {
<span class="fc bfc" id="L2138" title="All 2 branches covered.">		if (isEmpty(fieldT)) return;</span>
<span class="fc" id="L2139">		this.fieldT = fieldT;</span>
<span class="fc" id="L2140">	}</span>

	public String getHtmlHead() {
<span class="fc bfc" id="L2143" title="All 2 branches covered.">		if(htmlHead == null) return &quot;&quot;;</span>
<span class="fc" id="L2144">		return htmlHead;</span>
	}

	public void setHtmlHead(String htmlHead) {
<span class="fc bfc" id="L2148" title="All 2 branches covered.">		if (isEmpty(htmlHead)) return;</span>
<span class="fc" id="L2149">		this.htmlHead = htmlHead;</span>
<span class="fc" id="L2150">	}</span>

	public long getPublishStart() {
<span class="fc bfc" id="L2153" title="All 2 branches covered.">		if (publishStartDate == null) return 0;</span>
<span class="fc" id="L2154">		return publishStartDate.getTime();</span>
	}

	public long getPublishEnd() {
<span class="fc bfc" id="L2158" title="All 2 branches covered.">		if (publishEndDate == null) return 0;</span>
<span class="fc" id="L2159">		return publishEndDate.getTime();</span>
	}

	public long getEventDate() {
<span class="fc bfc" id="L2163" title="All 2 branches covered.">		if (eventDateDate == null) return 0;</span>
<span class="fc" id="L2164">		return eventDateDate.getTime();</span>
	}

	public String getHtmlData() {
<span class="fc bfc" id="L2168" title="All 2 branches covered.">		if(htmlData == null) return &quot;&quot;;</span>
<span class="fc" id="L2169">		return htmlData;</span>
	}

	public void setHtmlData(String htmlData) {
<span class="fc bfc" id="L2173" title="All 2 branches covered.">		if (isEmpty(htmlData)) return;</span>
<span class="fc" id="L2174">		this.htmlData = htmlData;</span>
<span class="fc" id="L2175">	}</span>

	public String getPerexPlace() {
<span class="fc bfc" id="L2178" title="All 2 branches covered.">		if(perexPlace == null) return &quot;&quot;;</span>
<span class="fc" id="L2179">		return perexPlace;</span>
	}

	public void setPerexPlace(String perexPlace) {
<span class="fc bfc" id="L2183" title="All 2 branches covered.">		if (isEmpty(perexPlace)) return;</span>
<span class="fc" id="L2184">		this.perexPlace = perexPlace;</span>
<span class="fc" id="L2185">	}</span>

	public String getPerexImage() {
<span class="fc bfc" id="L2188" title="All 2 branches covered.">		if(perexImage == null) return &quot;&quot;;</span>
<span class="fc" id="L2189">		return perexImage;</span>
	}

	public void setPerexImage(String perexImage) {
<span class="fc bfc" id="L2193" title="All 2 branches covered.">		if (isEmpty(perexImage)) return;</span>
<span class="fc" id="L2194">		this.perexImage = perexImage;</span>
<span class="fc" id="L2195">	}</span>

	public void setAuthorName(String authorName) {
<span class="fc bfc" id="L2198" title="All 2 branches covered.">		if (isEmpty(authorName)) return;</span>
<span class="fc" id="L2199">		this.authorName = authorName;</span>
<span class="fc" id="L2200">	}</span>

	public void setDocLink(String docLink) {
<span class="fc bfc" id="L2203" title="All 2 branches covered.">		if (isEmpty(docLink)) return;</span>
<span class="fc" id="L2204">		this.docLink = docLink;</span>
<span class="fc" id="L2205">	}</span>

	public String getData() {
<span class="fc bfc" id="L2208" title="All 2 branches covered.">		if(data == null) return &quot;&quot;;</span>
<span class="fc" id="L2209">		return data;</span>
	}

	public void setData(String data) {
<span class="fc bfc" id="L2213" title="All 2 branches covered.">		if (isEmpty(data)) return;</span>
<span class="fc" id="L2214">		this.data = data;</span>
<span class="fc" id="L2215">	}</span>

	public void setEventDateString(String eventDateString) {
<span class="fc bfc" id="L2218" title="All 2 branches covered.">		if (Tools.isEmpty(eventDateString)) {</span>
<span class="fc" id="L2219">			eventDateDate = null;</span>
		}
<span class="fc" id="L2221">		this.eventDateDate = new Date(DB.getTimestamp(eventDateString));</span>
<span class="fc" id="L2222">	}</span>

	public void setEventTimeString(String eventTimeString) {
<span class="fc bfc" id="L2225" title="All 2 branches covered.">		if (Tools.isEmpty(eventTimeString)) return;</span>
<span class="fc" id="L2226">		this.eventDateDate = new Date(DB.getTimestamp(getEventDateString(), eventTimeString));</span>
<span class="fc" id="L2227">	}</span>

	public String getTempName() {
<span class="pc bpc" id="L2230" title="1 of 2 branches missed.">		if(tempName == null) return &quot;&quot;;</span>
<span class="nc" id="L2231">		return tempName;</span>
	}

	public void setTempName(String tempName) {
<span class="fc bfc" id="L2235" title="All 2 branches covered.">		if (isEmpty(tempName)) return;</span>
<span class="fc" id="L2236">		this.tempName = tempName;</span>
<span class="fc" id="L2237">	}</span>

	public void setPublishEndString(String publishEndString) {
<span class="fc bfc" id="L2240" title="All 2 branches covered.">		if (isEmpty(publishEndString)) return;</span>
<span class="fc" id="L2241">		this.publishEndString = publishEndString;</span>
<span class="fc" id="L2242">	}</span>

	public void setPublishEndTimeString(String publishEndTimeString) {
<span class="fc bfc" id="L2245" title="All 2 branches covered.">		if (isEmpty(publishEndTimeString)) return;</span>
<span class="fc" id="L2246">		this.publishEndTimeString = publishEndTimeString;</span>
<span class="fc" id="L2247">	}</span>

	public void setPublishStartString(String publishStartString) {
<span class="fc bfc" id="L2250" title="All 2 branches covered.">		if (isEmpty(publishStartString)) return;</span>
<span class="fc" id="L2251">		this.publishStartString = publishStartString;</span>
<span class="fc" id="L2252">	}</span>

	public void setPublishStartStringExtra(String publishStartStringExtra) {
<span class="fc bfc" id="L2255" title="All 2 branches covered.">		if (isEmpty(publishStartStringExtra)) return;</span>
<span class="fc" id="L2256">		this.publishStartStringExtra = publishStartStringExtra;</span>
<span class="fc" id="L2257">	}</span>

	public void setPublishStartTimeString(String publishStartTimeString) {
<span class="fc bfc" id="L2260" title="All 2 branches covered.">		if (isEmpty(publishStartTimeString)) return;</span>
<span class="fc" id="L2261">		this.publishStartTimeString = publishStartTimeString;</span>
<span class="fc" id="L2262">	}</span>

	public void setSyncDefaultForGroupId(String syncDefaultForGroupId) {
<span class="pc bpc" id="L2265" title="1 of 2 branches missed.">		if (isEmpty(syncDefaultForGroupId)) return;</span>
<span class="nc" id="L2266">		this.syncDefaultForGroupId = syncDefaultForGroupId;</span>
<span class="nc" id="L2267">	}</span>

	public void setSyncRemotePath(String syncRemotePath) {
<span class="pc bpc" id="L2270" title="1 of 2 branches missed.">		if (isEmpty(syncRemotePath)) return;</span>
<span class="nc" id="L2271">		this.syncRemotePath = syncRemotePath;</span>
<span class="nc" id="L2272">	}</span>

	public int getLogonPageDocId() {
<span class="fc" id="L2275">		return logonPageDocId;</span>
	}

	public String getFileName() {
<span class="fc bfc" id="L2279" title="All 2 branches covered.">		if(fileName == null) return &quot;&quot;;</span>
<span class="fc" id="L2280">		return fileName;</span>
	}

	public void setFileName(String fileName) {
<span class="fc bfc" id="L2284" title="All 2 branches covered.">		if (isEmpty(fileName)) return;</span>
<span class="fc" id="L2285">		this.fileName = fileName;</span>
<span class="fc" id="L2286">	}</span>

	public void setAuthorEmail(String authorEmail) {
<span class="fc bfc" id="L2289" title="All 2 branches covered.">		if (isEmpty(authorEmail)) return;</span>
<span class="fc" id="L2290">		this.authorEmail = authorEmail;</span>
<span class="fc" id="L2291">	}</span>

	public String getAuthorPhoto() {
<span class="fc bfc" id="L2294" title="All 2 branches covered.">		if(authorPhoto == null) return &quot;&quot;;</span>
<span class="fc" id="L2295">		return authorPhoto;</span>
	}

	public void setAuthorPhoto(String authorPhoto) {
<span class="fc bfc" id="L2299" title="All 2 branches covered.">		if (isEmpty(authorPhoto)) return;</span>
<span class="fc" id="L2300">		this.authorPhoto = authorPhoto;</span>
<span class="fc" id="L2301">	}</span>

	//Special date - long anotations
	public void setDateCreated(long dateCreated)
	{
<span class="fc bfc" id="L2306" title="All 2 branches covered.">		if (dateCreated == 0) this.dateCreated = null;</span>
<span class="fc" id="L2307">		else this.dateCreated = new Date(dateCreated);</span>
<span class="fc" id="L2308">	}</span>

	//special Date objekty
	public Date getPublishStartDate() {
<span class="fc" id="L2312">		return publishStartDate;</span>
	}

	public void setPublishStartDate(Date publishStartDate) {
<span class="fc" id="L2316">		this.publishStartDate = publishStartDate;</span>
<span class="fc" id="L2317">	}</span>

	public Date getPublishEndDate() {
<span class="fc" id="L2320">		return publishEndDate;</span>
	}

	public void setPublishEndDate(Date publishEndDate) {
<span class="fc" id="L2324">		this.publishEndDate = publishEndDate;</span>
<span class="fc" id="L2325">	}</span>

	public Date getEventDateDate() {
<span class="fc" id="L2328">		return eventDateDate;</span>
	}

	public void setEventDateDate(Date eventDateDate) {
<span class="fc" id="L2332">		this.eventDateDate = eventDateDate;</span>
<span class="fc" id="L2333">	}</span>

	public String getDataAsc() {
<span class="fc bfc" id="L2336" title="All 2 branches covered.">		if(dataAsc == null) return &quot;&quot;;</span>
<span class="fc" id="L2337">		return dataAsc;</span>
	}

	public void setDataAsc(String dataAsc) {
<span class="fc bfc" id="L2341" title="All 2 branches covered.">		if (isEmpty(dataAsc)) {</span>
<span class="pc bpc" id="L2342" title="1 of 2 branches missed.">			if (this.dataAsc == null) this.dataAsc = &quot;&quot;;</span>
<span class="fc" id="L2343">			return;</span>
		}
<span class="fc" id="L2345">		this.dataAsc = dataAsc;</span>
<span class="fc" id="L2346">	}</span>

	public Boolean getUrlInheritGroup() {
<span class="fc" id="L2349">		return urlInheritGroup;</span>
	}

	public void setUrlInheritGroup(Boolean urlInheritGroup) {
<span class="fc" id="L2353">		this.urlInheritGroup = urlInheritGroup;</span>
<span class="fc" id="L2354">	}</span>

	public Boolean getGenerateUrlFromTitle() {
<span class="fc" id="L2357">		return generateUrlFromTitle;</span>
	}

	public void setGenerateUrlFromTitle(Boolean generateUrlFromTitle) {
<span class="fc" id="L2361">		this.generateUrlFromTitle = generateUrlFromTitle;</span>
<span class="fc" id="L2362">	}</span>

	public String getEditorVirtualPath() {
<span class="fc" id="L2365">		return editorVirtualPath;</span>
	}

	public void setEditorVirtualPath(String editorVirtualPath) {
<span class="fc" id="L2369">		this.editorVirtualPath = editorVirtualPath;</span>
<span class="fc" id="L2370">	}</span>

	//Doplnene volne polia - ticket 54205 - prav cast
	public int getTempFieldADocId() {
<span class="fc" id="L2374">		return tempFieldADocId;</span>
	}

	public void setTempFieldADocId(int tempFieldADocId) {
<span class="fc" id="L2378">		this.tempFieldADocId = tempFieldADocId;</span>
<span class="fc" id="L2379">	}</span>

	public int getTempFieldBDocId() {
<span class="fc" id="L2382">		return tempFieldBDocId;</span>
	}

	public void setTempFieldBDocId(int tempFieldBDocId) {
<span class="fc" id="L2386">		this.tempFieldBDocId = tempFieldBDocId;</span>
<span class="fc" id="L2387">	}</span>

	public int getTempFieldCDocId() {
<span class="fc" id="L2390">		return tempFieldCDocId;</span>
	}

	public void setTempFieldCDocId(int tempFieldCDocId) {
<span class="fc" id="L2394">		this.tempFieldCDocId = tempFieldCDocId;</span>
<span class="fc" id="L2395">	}</span>

	public int getTempFieldDDocId() {
<span class="fc" id="L2398">		return tempFieldDDocId;</span>
	}

	public void setTempFieldDDocId(int tempFieldDDocId) {
<span class="fc" id="L2402">		this.tempFieldDDocId = tempFieldDDocId;</span>
<span class="fc" id="L2403">	}</span>

	//Doplnene volne polia - ticket 54205 - druha cast

	//Not logged user
	public void setShowInMenu(boolean showInMenu) {
<span class="fc" id="L2409">		this.showInMenu = showInMenu;</span>
<span class="fc" id="L2410">	}</span>

	public Boolean getShowInNavbar() {
<span class="fc" id="L2413">		return showInNavbar;</span>
	}

	public void setShowInNavbar(Boolean showInNavbar) {
<span class="fc" id="L2417">		this.showInNavbar = showInNavbar;</span>
<span class="fc" id="L2418">	}</span>

	public Boolean getShowInSitemap() {
<span class="fc" id="L2421">		return showInSitemap;</span>
	}

	public void setShowInSitemap(Boolean showInSitemap) {
<span class="fc" id="L2425">		this.showInSitemap = showInSitemap;</span>
<span class="fc" id="L2426">	}</span>

	//Logged user
	public Boolean getLoggedShowInMenu() {
<span class="fc" id="L2430">		return loggedShowInMenu;</span>
	}

	public void setLoggedShowInMenu(Boolean loggedShowInMenu) {
<span class="fc" id="L2434">		this.loggedShowInMenu = loggedShowInMenu;</span>
<span class="fc" id="L2435">	}</span>

	public Boolean getLoggedShowInNavbar() {
<span class="fc" id="L2438">		return loggedShowInNavbar;</span>
	}

	public void setLoggedShowInNavbar(Boolean loggedShowInNavbar) {
<span class="fc" id="L2442">		this.loggedShowInNavbar = loggedShowInNavbar;</span>
<span class="fc" id="L2443">	}</span>

	public Boolean getLoggedShowInSitemap() {
<span class="fc" id="L2446">		return loggedShowInSitemap;</span>
	}

	public void setLoggedShowInSitemap(Boolean loggedShowInSitemap) {
<span class="fc" id="L2450">		this.loggedShowInSitemap = loggedShowInSitemap;</span>
<span class="fc" id="L2451">	}</span>

	/**
	 * Vrati true, ak sa polozka ma zobrazit v menu (automaticky detekuje, ci je prihlaseny pouzivatel, alebo nie)
	 * @param request
	 * @return
	 */
	public boolean isShowInMenu(HttpServletRequest request) {
<span class="fc" id="L2459">		Identity user = UsersDB.getCurrentUser(request);</span>
<span class="fc bfc" id="L2460" title="All 4 branches covered.">		if(user == null || loggedShowInMenu == null){</span>
<span class="fc" id="L2461">			return showInMenu;</span>
		}
<span class="fc" id="L2463">		return loggedShowInMenu;</span>
	}

	/**
	 * Vrati true, ak sa polozka ma zobrazit v navigacnej liste (automaticky detekuje, ci je prihlaseny pouzivatel, alebo nie)
	 * @param request
	 * @return
	 */
	public boolean isShowInNavbar(HttpServletRequest request) {
<span class="fc" id="L2472">		Identity user = UsersDB.getCurrentUser(request);</span>
<span class="fc bfc" id="L2473" title="All 4 branches covered.">		if(user == null || loggedShowInNavbar==null) {</span>
<span class="fc bfc" id="L2474" title="All 2 branches covered.">			if(showInNavbar == null) return isShowInMenu();</span>
<span class="fc" id="L2475">			return showInNavbar;</span>
		}

<span class="fc" id="L2478">		return loggedShowInNavbar;</span>
	}

	/**
	 * Vrati true, ak sa polozka ma zobrazit v mape stranok (automaticky detekuje, ci je prihlaseny pouzivatel, alebo nie)
	 * @param request
	 * @return
	 */
	public boolean isShowInSitemap(HttpServletRequest request) {
<span class="fc" id="L2487">		Identity user = UsersDB.getCurrentUser(request);</span>
<span class="fc bfc" id="L2488" title="All 4 branches covered.">		if(user == null || loggedShowInSitemap==null) {</span>
<span class="fc bfc" id="L2489" title="All 2 branches covered.">			if(showInSitemap == null) return showInMenu;</span>
<span class="fc" id="L2490">			return showInSitemap;</span>
		}

<span class="fc" id="L2493">		return loggedShowInSitemap;</span>
	}

	@Override
	public String toString() {
<span class="fc" id="L2498">		return getFullPath()+&quot;, ID =&gt; &quot;+getDocId();</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>